(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{A2bC:function(t,e,s){"use strict";s("sPWh")},bcHF:function(t,e,s){"use strict";s.r(e);var i=s("o0o1"),a=s.n(i),n=s("Wgwc"),o=s.n(n),r=s("WIcW"),l=s.n(r),c=s("L2JU"),d=s("jBWl"),u=s("MCve"),m=s("dRai"),v=s("T1qZ"),h=s("UEn/"),f=s("ITrF"),g=s("cmxz"),p=s("XPXJ"),b=s("/X8E"),_=s("vX9Q"),k=s("kdyA"),w=s("IGiv"),C=s("eeqt"),y={name:"map-marker"},x=s("KHd+"),D=Object(x.a)(y,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12,14 C9.790861,14 8,12.209139 8,10 C8,7.790861 9.790861,6 12,6 C14.209139,6 16,7.790861 16,10 C16,12.209139 14.209139,14 12,14 Z M12,13 C13.6568542,13 15,11.6568542 15,10 C15,8.34314575 13.6568542,7 12,7 C10.3431458,7 9,8.34314575 9,10 C9,11.6568542 10.3431458,13 12,13 Z M12.3391401,20.8674017 C12.1476092,21.0441994 11.8523908,21.0441994 11.6608599,20.8674017 C7.23483091,16.7818365 5,13.171725 5,10 C5,6.13400675 8.13400675,3 12,3 C15.8659932,3 19,6.13400675 19,10 C19,13.171725 16.7651691,16.7818365 12.3391401,20.8674017 Z M18,10 C18,6.6862915 15.3137085,4 12,4 C8.6862915,4 6,6.6862915 6,10 C6,12.7518356 7.98660341,16.0353377 12,19.8163638 C16.0133966,16.0353377 18,12.7518356 18,10 Z"}})])}),[],!1,null,null,null).exports,M=s("vqo1"),B=s("pl0M"),S=s.n(B);function Y(t,e,s,i,a,n,o){try{var r=t[n](o),l=r.value}catch(t){return void s(t)}r.done?e(l):Promise.resolve(l).then(i,a)}function T(t){return function(){var e=this,s=arguments;return new Promise((function(i,a){var n=t.apply(e,s);function o(t){Y(n,i,a,o,r,"next",t)}function r(t){Y(n,i,a,o,r,"throw",t)}o(void 0)}))}}var O=s("s3Wo"),j=s("i93w");o.a.extend(O),o.a.extend(j),window.Vue.use(l.a),window.Vue.use(S.a,{position:"bottom-center",duration:3e3,className:"bg-primary rounded shadow-none"});var P={components:{ClockIcon:p.a,CloseIcon:b.a,ChevronLeftIcon:k.a,ChevronRightIcon:w.a,ArrowLeftIcon:C.a,MapMarkerIcon:D,CheckmarkIcon:M.a},directives:{tooltip:_.a},data:function(){return{services:[],selectedService:null,open:!0,opacity:1,startDate:null,selectedTimeslots:[],selectedTimeslot:!1,authError:"",error:null,masks:{input:"MMM D, YYYY"},timeslotsLoading:!1,timeslots:[]}},computed:{tabDates:function(){for(var t=[],e=7,s=o()(this.startDate);e>0;)t.push({name:s.format("ddd"),dayName:s.format("dddd"),date:s.toDate(),label:s.format("MMM DD"),format:s.format("YYYY-MM-DD")}),s=s.add(1,"day"),e--;return t}},watch:{"selectedService.id":function(){this.getTimeslots()},startDate:function(t){t&&(this.error=null),this.authError="",this.getTimeslots()}},created:function(){this.startDate=o()().toDate(),this.getServices()},methods:{summary:function(){this.selectedTimeslots.length>0&&(this.selectedTimeslot=!0)},setSelectedDateAndTimeslot:function(t,e){if(e.is_available){var s=this.selectedTimeslots.findIndex((function(s){return s.date.dayName==t.dayName&&s.timeslot.time==e.time}));s>-1?this.selectedTimeslots.splice(s,1):this.selectedTimeslots.push({date:t,timeslot:e,days:[]})}},reset:function(){this.startDate=o()().toDate(),this.selectedService=null,this.selectedTimeslots=[]},getTimeZoneOffset:function(t,e){var s={timeZone:e,calendar:"iso8601",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},i=new Intl.DateTimeFormat(void 0,s).formatToParts(t),a=new Map(i.map((function(t){return[t.type,t.value]}))),n=a.get("year"),o=a.get("month"),r=a.get("day"),l=a.get("hour"),c=a.get("minute"),d=a.get("second"),u=t.getMilliseconds().toString().padStart(3,"0");"24"==l&&(l="00");var m="".concat(n,"-").concat(o,"-").concat(r,"T").concat(l,":").concat(c,":").concat(d,".").concat(u);return-(new Date(m+"Z")-t)/60/1e3},timezoneTime:function(t){var e,s=this.selectedService.user.timezone;if(s!=this.timezone){var i=this.getTimeZoneOffset(new Date,s),a=this.getTimeZoneOffset(new Date,this.timezone),n="".concat(o()(this.startDate).format("YYYY-MM-DD")," ").concat(t);e=o()(n).add(i-a,"minute")}else e=o()("".concat(o()(this.startDate).format("YYYY-MM-DD")," ").concat(t));return e.format("hh:mmA")},timezoneTooltip:function(t,e){return'\n\t\t\t\t<div class="text-left py-1 line-height-base">\n\t\t\t\t\t<div class="mb-2"><div>'.concat(t,"</div><div><strong>").concat(e.label,"</strong></div></div>\n\t\t\t\t\t<div>").concat(this.timezone,"</div><div><strong>").concat(this.timezoneTime(e.time),"</strong></div>\n\t\t\t\t</div>\n\t\t\t")},getTimeslots:function(){var t=this;return T(a.a.mark((function e(){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.selectedService){e.next=8;break}return t.timeslotsLoading=!0,t.selectedTimeslot=null,e.next=5,window.axios.get("".concat(window.location.origin,"/ajax/@").concat(t.selectedService.user.username,"/").concat(t.selectedService.id,"/timeslots?date=").concat(o()(t.startDate).format("YYYY-MM-DD")),{ajax:!1});case 5:s=e.sent,t.timeslots=s.data,t.timeslotsLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},previousWeek:function(){var t=o()(this.startDate).subtract(7,"day");o()(t.format("YYYY-MM-DD")).isSameOrAfter(o()(o()().format("YYYY-MM-DD")))?this.startDate=t.toDate():o()(o()(this.startDate).format("YYYY-MM-DD")).isSame(o()(o()().format("YYYY-MM-DD")))||(this.startDate=o()().toDate())},nextWeek:function(){this.startDate=o()(this.startDate).add(7,"day").toDate()},getServices:function(){var t=this;return T(a.a.mark((function e(){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.axios.get("/services/contact_services");case 2:s=e.sent,t.services=s.data;case 4:case"end":return e.stop()}}),e)})))()},show:function(){var t=this;this.open=!0,setTimeout((function(){t.opacity=1}),50)},hide:function(){var t=this;this.opacity=0,setTimeout((function(){t.open=!1,t.reset()}),100)}}},N=(s("eoQv"),Object(x.a)(P,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"position-fixed w-100 h-100 bg-light px-3 py-5",class:"opacity-"+t.opacity,attrs:{id:"add"}},[s("button",{staticClass:"btn btn-light shadow-none p-1 badge-pill btn-close",attrs:{type:"button"},on:{click:function(e){return t.hide()}}},[s("close-icon",{attrs:{width:"30",height:"30",transform:"scale(1.2)"}})],1),t._v(" "),t.selectedService?!t.selectedService||t.startDate&&t.selectedTimeslot?t._e():s("div",{key:"service",staticClass:"container selected-service-container"},[s("div",{staticClass:"mb-5 text-left"},[s("button",{staticClass:"btn line-height-0 p-0 close float-none mb-3 ml-n1",attrs:{type:"button"},on:{click:function(e){return t.reset()}}},[s("arrow-left-icon",{attrs:{width:"30",height:"30",transform:"scale(1.2)"}})],1),t._v(" "),s("h4",{staticClass:"mb-1 h3 font-heading"},[t._v(t._s(t.selectedService.name))]),t._v(" "),s("p",{staticClass:"mb-0 service-description"},[t._v(t._s(t.selectedService.description))]),t._v(" "),t.selectedService.address?s("p",{staticClass:"mb-0 d-flex align-items-center text-muted"},[s("map-marker-icon",{staticClass:"fill-primary",attrs:{height:"18",width:"18"}}),t._v("\n\t\t\t\t"+t._s(t.selectedService.address)+"\n\t\t\t")],1):t._e()]),t._v(" "),s("div",{staticClass:"d-flex align-items-center pt-3"},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"bg-white rounded shadow-sm d-flex align-items-center"},[s("button",{staticClass:"btn btn-sm btn-white p-1",attrs:{type:"button"},on:{click:function(e){return t.previousWeek()}}},[s("chevron-left-icon",{attrs:{height:"25",width:"25",transform:"scale(1.4)"}})],1),t._v(" "),s("v-date-picker",{attrs:{"min-date":new Date,popover:{placement:"bottom",visibility:"click"},masks:t.masks},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,a=e.inputEvents;return[s("button",t._g({staticClass:"btn btn-white px-1 shadow-none rounded-0",attrs:{type:"button"}},a),[t._v(t._s(i))])]}}]),model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),s("button",{staticClass:"btn btn-sm btn-white p-1",attrs:{type:"button"},on:{click:function(e){return t.nextWeek()}}},[s("chevron-right-icon",{attrs:{height:"25",width:"25",transform:"scale(1.4)"}})],1)],1),t._v(" "),0==t.selectedTimeslots.length?s("div",{staticClass:"ml-3 text-muted"},[t._v("Select at least one (1) timeslot")]):t._e()]),t._v(" "),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Select at least one (1) timeslot",expression:"'Select at least one (1) timeslot'",modifiers:{left:!0}}],staticClass:"ml-auto",class:{"hide-tooltip":t.selectedTimeslots.length>0}},[s("button",{staticClass:"btn",class:[0==t.selectedTimeslots.length?"disabled":"btn-white shadow-sm"],attrs:{type:"button"},on:{click:function(e){return t.summary()}}},[t._v("\n\t\t\t\t\tContinue\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"text-left"},[s("div",{staticClass:"pt-3 pb-4 d-flex"},[s("div",{staticClass:"p-3 flex-grow-1 bg-white timeslots-wrapper shadow-sm position-relative rounded"},[s("table",{staticClass:"table table-sm table-borderless mb-0 table-layout-fixed"},[s("thead",[s("tr",t._l(t.tabDates,(function(e,i){return s("th",{key:i,staticClass:"align-middle pb-2 pt-0 pl-2"},[s("strong",[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"text-gray"},[t._v(t._s(e.label))])])})),0)]),t._v(" "),s("tbody",{staticClass:"shadow-none bg-transparent text-center"},[s("tr",t._l(t.tabDates,(function(e,i){return s("td",{key:i,staticClass:"px-2 py-0 rounded-0 position-relative"},[t.selectedService&&t.timeslots&&(t.timeslots[e.dayName]||[]).length>0?t._l(t.timeslots[e.dayName],(function(a,n){return s("div",{key:n},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.timezoneTooltip(t.selectedService.user.timezone,a),expression:"timezoneTooltip(selectedService.user.timezone, timeslot)",modifiers:{top:!0}}],key:i,staticClass:"py-2 position-relative rounded my-2 timeslot-button",class:[a.is_available?"cursor-pointer bg-primary text-white":"disabled bg-gray-400 pointer-events-none"],on:{click:function(s){return t.setSelectedDateAndTimeslot(e,a)}}},[s("span",{staticClass:"selected-checkmark position-absolute"},[t.selectedTimeslots.find((function(t){return t.date.dayName==e.dayName&&t.timeslot.time==a.time}))?s("checkmark-icon",{staticClass:"fill-green",attrs:{height:"30",width:"30"}}):t._e()],1),t._v(" "),s("span",{staticClass:"text-nowrap"},[t._v(t._s(t.timezoneTime(a.time)))])])])})):s("div",{staticClass:"position-absolute-center w-100 h-100 bg-light"})],2)})),0)])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.timeslotsLoading?s("div",{staticClass:"timeslots-loader rounded position-absolute-center w-100 h-100 bg-white"},[s("div",{staticClass:"position-absolute-center"},[s("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}})])]):t._e()])],1)])])]):[s("h2",{staticClass:"font-heading text-center"},[t._v("Available Services")]),t._v(" "),s("div",{staticClass:"container mt-5"},[s("div",{staticClass:"row justify-content-center"},t._l(t.services,(function(e){return s("div",{key:e.id,staticClass:"col-md-5"},[s("div",{staticClass:"card rounded service cursor-pointer mb-3 shadow-sm",on:{click:function(s){t.selectedService=e}}},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"d-flex align-items-center mb-3"},[s("div",{staticClass:"user-profile-image d-inline-block bg-white mb-1",style:{"background-image":"url("+e.user.profile_image+")"}},[e.user.profile_image?t._e():s("span",[t._v(t._s(e.user.initials))])]),t._v(" "),s("div",{staticClass:"pl-1"},[s("h6",{staticClass:"font-heading mb-0"},[t._v(t._s(e.user.full_name))]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("@"+t._s(e.user.username))])])]),t._v(" "),s("h3",{staticClass:"font-heading h5 mb-1"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"mb-0 text-ellipsis text-muted"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"d-flex align-items-center mt-4 line-height-1"},[s("div",{staticClass:"d-flex align-items-center"},[s("clock-icon",{attrs:{width:"11",height:"11",transform:"scale(1.5)",fill:"#6c757d"}}),t._v(" "),s("small",{staticClass:"text-muted ml-1"},[t._v(t._s(e.duration)+" min")])],1),t._v(" "),parseInt(e.default_rate)?s("div",{staticClass:"d-flex align-items-center ml-3"},[s("small",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.currency)+"\n\t\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"text-muted"},[t._v(t._s(e.default_rate))])])]):t._e()])])])])})),0)])]],2)}),[],!1,null,null,null).exports);function z(t,e,s,i,a,n,o){try{var r=t[n](o),l=r.value}catch(t){return void s(t)}r.done?e(l):Promise.resolve(l).then(i,a)}function E(t){return function(){var e=this,s=arguments;return new Promise((function(i,a){var n=t.apply(e,s);function o(t){z(n,i,a,o,r,"next",t)}function r(t){z(n,i,a,o,r,"throw",t)}o(void 0)}))}}function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function A(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){$(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function $(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var L=s("s3Wo"),W=s("i93w");o.a.extend(L),o.a.extend(W);var J={components:{VCalendar:l.a,Modal:d.a,VueFormValidate:u.a,MoreIcon:m.a,VueButton:v.a,VueSelect:h.a,ShortcutIcon:f.a,PlusIcon:g.a,Add:N},data:function(){return{selectedBooking:null,selectedDate:null,selectedTimeslot:null,selectAttribute:{highlight:{fillMode:"solid",contentClass:"bg-primary"}},days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],step:1,error:"",dayjs:o.a,serviceMembers:[],timeslots:[],bookingModalLoading:!1}},computed:A(A({},Object(c.d)({ready:function(t){return t.bookings.ready},bookings:function(t){return t.bookings.index}})),{},{formattedHolidays:function(){var t=this,e=[];if(this.selectedBooking.service){this.selectedBooking.service.holidays.forEach((function(t){var s=t.split("-"),i=new Date(s[0],s[1]-1,s[2]);e.push(i)}));var s=[];this.days.forEach((function(e,i){i++,t.selectedBooking.service.days[e].isOpen||s.push(i)})),s.length>0&&e.push({weekdays:s})}return e},nextDisabled:function(){var t=!0;switch(this.step){case 1:this.selectedDate&&(t=!1);break;case 2:this.selectedTimeslot&&(t=!1)}return t},buttonText:function(){var t="Next";switch(this.step){case 1:t="Select time";break;case 2:t="Update"}return t},availableTimeslots:function(){return this.timeslots.filter((function(t){return t.is_available}))}}),watch:{ready:function(t){this.$root.contentloading=!t},selectedDate:function(t){t&&(this.error=null),this.getTimeslots()}},created:function(){this.$root.contentloading=!this.ready,this.getBookings()},methods:A(A({},Object(c.b)({getBookings:"bookings/index",updateBooking:"bookings/update"})),{},{updateSelectedBooking:function(t){var e=this;return E(a.a.mark((function s(){return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.bookingModalLoading=!0,(t=JSON.parse(JSON.stringify(t))).date=o()(t.date).format("YYYY-MM-DD"),t.start=o()(t.start).format("HH:mm"),s.next=6,e.updateBooking(t).catch((function(){}));case 6:s.sent&&e.$refs.bookingModal.hide(),e.bookingModalLoading=!1;case 9:case"end":return s.stop()}}),s)})))()},editBooking:function(t){var e=JSON.parse(JSON.stringify(t));e.start=o()("".concat(e.date," ").concat(e.start)).toDate(),e.isPrevious=o()(new Date).isSameOrAfter(o()(e.start)),this.selectedBooking=e,this.getSelectedBookingNewTimeslots(t,e.date),this.$refs.bookingModal.show()},getSelectedBookingNewTimeslots:function(t,e){var s=this;return E(a.a.mark((function i(){var n;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,window.axios.get("/services/".concat(t.service.id,"?date=").concat(o()(e).format("YYYY-MM-DD"),"&single=1"));case 2:n=i.sent,s.timeslots=n.data;case 4:case"end":return i.stop()}}),i)})))()},resetStep:function(){this.step=1,this.selectedTimeslot=this.selectedDate=null},update:function(t){var e=this;if(t){var s=JSON.parse(JSON.stringify(t));s.date=o()(this.selectedDate).format("YYYY-MM-DD"),s.start=this.selectedTimeslot.time,this.updateBooking(s).then((function(){e.$refs.editModal.hide()})).catch((function(t){e.error=t.response.data.message,e.resetStep()}))}},nextStep:function(){this.nextDisabled||this.step++},getTimeslots:function(){var t=this;if(this.selectedBooking&&this.selectedDate){this.selectedTimeslot=null;var e=o()(this.selectedDate).format("YYYY-MM-DD");window.axios.get("/@".concat(this.selectedBooking.service.user.username,"/").concat(this.selectedBooking.service.id,"/timeslots?date=").concat(e)).then((function(s){var i=s.data;if(t.selectedBooking.date==e){var a=t.selectedBooking.start.split(":"),n={label:o()().hour(a[0]).minute(a[1]).format("hh:mmA"),time:t.selectedBooking.start};6==n.label.length&&(n.label="0".concat(n.label)),t.selectedTimeslot=n,i.push(n)}i=i.sort((function(t,e){return t.time>e.time?1:-1})),t.$set(t.selectedBooking.service,"timeslots",i)}))}},formatDate:function(t){return o()(t).format("MMMM D, YYYY")},formatTime:function(t){var e=t.split(":");return o()().set("hour",e[0]).set("minute",e[1]).format("hh:mmA")},destroy:function(t){t&&(this.$refs.deleteModal.hide(),window.axios.delete("/dashboard/bookings/".concat(t.id)),this.$delete(this.bookings,this.bookings.findIndex((function(e){return e.id==t.id}))))}})},Z=(s("A2bC"),Object(x.a)(J,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-100"},["customer"==t.$root.auth.role.role?s("div",{staticClass:"p-4"},[t.ready?s("div",[0==t.bookings.length?s("h6",{staticClass:"text-center text-gray position-absolute-center font-weight-lighter"},[t._v("\n\t\t\t\tYou don't have any bookings yet.\n\t\t\t")]):s("div",[s("div",{staticClass:"d-flex mb-3"},[s("h1",{staticClass:"font-heading h3 mb-0"},[t._v("Bookings")]),t._v(" "),s("div",{staticClass:"ml-auto d-flex align-items-center"},[s("button",{staticClass:"btn btn-primary d-flex align-items-center",attrs:{type:"button"},on:{click:function(e){return t.$refs.add.show()}}},[s("plus-icon",{staticClass:"btn-icon fill-white",staticStyle:{stroke:"white"}}),t._v("\n\t\t\t\t\t\t\tAdd Booking\n\t\t\t\t\t\t")],1)])]),t._v(" "),s("table",{staticClass:"table table-borderless mb-0"},[t._m(0),t._v(" "),s("tbody",t._l(t.bookings,(function(e){return s("tr",{key:e.vue},[s("td",{staticClass:"align-middle"},[s("strong",{staticClass:"d-block"},[t._v(t._s(e.service.name))]),t._v(" "),s("small",{staticClass:"d-block text-muted"},[t._v(t._s(e.service.coach.full_name))])]),t._v(" "),s("td",{staticClass:"align-middle"},[t._v(t._s(t.formatDate(e.date)))]),t._v(" "),s("td",{staticClass:"align-middle"},[t._v(t._s(t.formatTime(e.start)))]),t._v(" "),s("td",{staticClass:"align-middle"},[t._v(t._s(t.formatTime(e.end)))]),t._v(" "),s("td",{staticClass:"text-right align-middle",staticStyle:{width:"50px"}},[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-white p-1 line-height-0",attrs:{"data-toggle":"dropdown"}},[s("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-right"},[s("span",{staticClass:"dropdown-item d-flex align-items-center cursor-pointer",on:{click:function(s){return t.editBooking(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t")])])])])])})),0)])]),t._v(" "),s("modal",{ref:"bookingModal",attrs:{"close-button":(t.selectedBooking||{}).isPrevious,scrollable:!1}},[t.selectedBooking?s("div",[s("h5",{staticClass:"font-heading mb-3"},[t._v("Edit Booking")]),t._v(" "),s("div",[s("div",{staticClass:"d-flex align-items-center text-left mb-3"},[s("div",{staticClass:"font-weight-normal text-secondary w-25"},[t._v("Service")]),t._v(" "),s("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.selectedBooking.service.name))])]),t._v(" "),s("div",{staticClass:"d-flex align-items-center text-left mb-3"},[s("div",{staticClass:"font-weight-normal text-secondary w-25"},[t._v("Coach")]),t._v(" "),s("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.selectedBooking.service.coach.full_name))])]),t._v(" "),s("div",{staticClass:"d-flex align-items-center text-left mb-3"},[s("div",{staticClass:"font-weight-normal text-secondary w-25"},[t._v("Date")]),t._v(" "),t.selectedBooking.isPrevious?s("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.formatDate(t.selectedBooking.date)))]):s("v-date-picker",{attrs:{"min-date":new Date,popover:{placement:"right",visibility:"click"}},on:{input:function(e){return t.getSelectedBookingNewTimeslots(t.selectedBooking,e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[s("button",t._g({staticClass:"btn btn-light shadow-none",attrs:{type:"button"}},e.inputEvents),[t._v(t._s(t.formatDate(t.selectedBooking.date)))])]}}],null,!1,1537691256),model:{value:t.selectedBooking.date,callback:function(e){t.$set(t.selectedBooking,"date",e)},expression:"selectedBooking.date"}})],1),t._v(" "),s("div",{staticClass:"d-flex align-items-center text-left mb-3"},[s("div",{staticClass:"font-weight-normal text-secondary w-25"},[t._v("Starts at")]),t._v(" "),t.selectedBooking.isPrevious?s("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.dayjs(t.selectedBooking.start).format("hh:mmA")))]):s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"dropright"},[s("button",{staticClass:"btn btn-light shadow-none",attrs:{"data-toggle":"dropdown"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.dayjs(t.selectedBooking.start).format("hh:mmA"))+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"dropdown-menu timeslots-dropdown-menu overflow-y-auto"},[0==t.availableTimeslots.length?s("div",{staticClass:"text-center text-gray small px-2 py-1 text-nowrap"},[t._v("No available timeslots")]):t._l(t.availableTimeslots,(function(e,i){return[s("button",{key:i,staticClass:"btn btn-primary btn-block mb-1",attrs:{type:"button"},on:{click:function(s){t.selectedBooking.start=t.dayjs(t.dayjs(t.selectedBooking.date).format("Y-m-d")+" "+e.time).toDate()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.label)+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}))],2)]),t._v("\n\t\t\t\t\t\t\t\t  to  \n\t\t\t\t\t\t\t\t"+t._s(t.dayjs(t.selectedBooking.start).add(t.selectedBooking.service.duration,"minute").format("hh:mmA"))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"d-flex align-items-center text-left"},[s("div",{staticClass:"font-weight-normal text-secondary w-25"},[t._v("Duration")]),t._v(" "),s("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.selectedBooking.service.duration)+" minutes")])]),t._v(" "),t.selectedBooking.booking_note.note?s("div",{staticClass:"d-flex align-items-center text-left mt-3"},[s("div",{staticClass:"font-weight-normal text-secondary w-25 mb-2"},[t._v("Notes")]),t._v(" "),s("p",{staticClass:"mb-0 flex-1"},[t._v(t._s(t.selectedBooking.booking_note.note))])]):t._e(),t._v(" "),t.selectedBooking.isPrevious?t._e():s("div",{staticClass:"text-left"},[Object.keys(t.selectedBooking.zoom_link).length>0?s("div",{staticClass:"mt-2"},[s("div",{staticClass:"d-flex align-items-center text-left"},[s("div",{staticClass:"font-weight-normal text-secondary w-25"},[t._v("Zoom Link")]),t._v(" "),s("a",{staticClass:"d-flex align-items-center",attrs:{target:"_blank",href:t.selectedBooking.zoom_link.join_url}},[t._v("\n\t\t\t\t\t\t\t\t\t\tGo to Zoom meeting\n\t\t\t\t\t\t\t\t\t\t"),s("shortcut-icon",{staticClass:"ml-1 fill-blue",attrs:{width:"16",height:"16"}})],1)])]):t._e()])]),t._v(" "),t.selectedBooking.isPrevious?t._e():s("div",{staticClass:"d-flex justify-content-between mt-4"},[s("div",{staticClass:"d-flex align-items-center"},[s("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal",disabled:t.bookingModalLoading}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-link text-danger",attrs:{type:"button","data-dismiss":"modal",disabled:t.bookingModalLoading},on:{click:function(e){return t.$refs.deleteBookingModal.show()}}},[t._v("Delete")])]),t._v(" "),s("vue-button",{attrs:{type:"button",button_class:"btn btn-primary shadow-sm border",loading:t.bookingModalLoading},nativeOn:{click:function(e){return t.updateSelectedBooking(t.selectedBooking)}}},[t._v("Update")])],1)]):t._e()]),t._v(" "),s("modal",{ref:"deleteBookingModal",attrs:{"close-button":!1}},[t.selectedBooking?[s("h5",{staticClass:"font-heading text-center"},[t._v("Delete Booking")]),t._v(" "),s("p",{staticClass:"text-center mt-3"},[t._v("\n\t\t\t\t\t\tAre you sure to delete this booking?\n\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"d-flex"},[s("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$refs.bookingModal.show()}}},[t._v("\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-danger ml-auto",attrs:{type:"button"},on:{click:function(e){t.confirmDeleteBooking(t.selectedBooking),t.$refs.deleteBookingModal.hide()}}},[t._v("\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t")])])]:t._e()],2)],1):t._e(),t._v(" "),s("add",{ref:"add"})],1):s("router-view")],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"border-0"},[t._v("Service")]),t._v(" "),s("th",{staticClass:"border-0"},[t._v("Date")]),t._v(" "),s("th",{staticClass:"border-0"},[t._v("Start")]),t._v(" "),s("th",{staticClass:"border-0"},[t._v("End")]),t._v(" "),s("th",{staticClass:"border-0"})])])}],!1,null,null,null));e.default=Z.exports},eoKz:function(t,e,s){var i=s("f1kI");"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,a);i.locals&&(t.exports=i.locals)},eoQv:function(t,e,s){"use strict";s("eoKz")},f1kI:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"#add{top:0;left:0;z-index:100;opacity:1;transition:all .1s ease-in-out}.user-profile-image{height:40px;width:40px}.user-profile-image span{font-size:16px}.timeslot-button{-moz-user-select:none;-webkit-user-select:none;user-select:none}.timeslot-button .selected-checkmark{right:-2px;top:50%;transform:translateY(-50%)}",""]),t.exports=e},klEr:function(t,e,s){(e=s("JPst")(!1)).push([t.i,'.v-calendar .vc-title{font-family:"Avenir Next";font-size:18px}.v-calendar .vc-day-content{line-height:1}.form-body{height:270px}.w-20{width:20% !important}',""]),t.exports=e},sPWh:function(t,e,s){var i=s("klEr");"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,a);i.locals&&(t.exports=i.locals)}}]);