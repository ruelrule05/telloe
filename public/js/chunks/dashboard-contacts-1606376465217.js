(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"/yFD":function(t,e,a){var s=a("dNBw");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},"56ir":function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),n=a.n(s),i=a("L2JU"),o=a("jBWl"),c=a("KlRW"),l=a("dRai"),r=a("eeqt"),d=a("XPXJ"),u=a("grtR"),v=a("Wgwc"),m=a.n(v),f=a("RrSB"),g=a("UEn/"),p=a("WIcW"),h=a.n(p),_=a("5cWj"),b=a("MCve"),C=a("T1qZ"),w=a("9O57"),x=a("ITrF"),k={name:"note"},y=a("KHd+"),N=Object(y.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,14.5 L19,5.5 C19,4.67157288 18.3284271,4 17.5,4 L6.5,4 C5.67157288,4 5,4.67157288 5,5.5 L5,18.5 C5,19.3284271 5.67157288,20 6.5,20 L13.5,20 C14.3284271,20 15,19.3284271 15,18.5 C15,17.1192881 16.1192881,16 17.5,16 C18.3284271,16 19,15.3284271 19,14.5 L19,14.5 Z M18.5014408,16.7913481 C18.1948298,16.9255432 17.8561101,17 17.5,17 C16.6715729,17 16,17.6715729 16,18.5 C16,18.8561101 15.9255432,19.1948298 15.7913481,19.5014408 C16.9873685,18.9526013 17.9526013,17.9873685 18.5014408,16.7913481 L18.5014408,16.7913481 Z M4,5.5 C4,4.11928813 5.11928813,3 6.5,3 L17.5,3 C18.8807119,3 20,4.11928813 20,5.5 L20,14.5 C20,18.0898509 17.0898509,21 13.5,21 L6.5,21 C5.11928813,21 4,19.8807119 4,18.5 L4,5.5 Z M8.5,9 C8.22385763,9 8,8.77614237 8,8.5 C8,8.22385763 8.22385763,8 8.5,8 L15.5,8 C15.7761424,8 16,8.22385763 16,8.5 C16,8.77614237 15.7761424,9 15.5,9 L8.5,9 Z M8.5,12 C8.22385763,12 8,11.7761424 8,11.5 C8,11.2238576 8.22385763,11 8.5,11 L15.5,11 C15.7761424,11 16,11.2238576 16,11.5 C16,11.7761424 15.7761424,12 15.5,12 L8.5,12 Z M8.5,15 C8.22385763,15 8,14.7761424 8,14.5 C8,14.2238576 8.22385763,14 8.5,14 L13.5,14 C13.7761424,14 14,14.2238576 14,14.5 C14,14.7761424 13.7761424,15 13.5,15 L8.5,15 Z"}})])}),[],!1,null,null,null).exports,B=a("NalG"),$=a("J51Y"),M=(a("t2rG"),a("cmxz"));function O(t,e,a,s,n,i,o){try{var c=t[i](o),l=c.value}catch(t){return void a(t)}c.done?e(l):Promise.resolve(l).then(s,n)}function F(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function o(t){O(i,s,n,o,c,"next",t)}function c(t){O(i,s,n,o,c,"throw",t)}o(void 0)}))}}function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){L(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function L(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var j=a("s3Wo"),D=a("i93w");m.a.extend(j),m.a.extend(D);var E=a("xCJq");Vue.use(h.a);var I={components:{Modal:o.a,CheckmarkCircleIcon:c.a,MoreIcon:l.a,ArrowLeftIcon:r.a,ClockIcon:d.a,Paginate:f.a,VueSelect:g.a,TrashIcon:u.a,ToggleSwitch:_.a,VueFormValidate:b.a,VueButton:C.a,ZoomIcon:w.a,ShortcutIcon:x.a,NoteIcon:N,PencilIcon:B.a,MoveIcon:$.a,PlusIcon:M.a},data:function(){var t;return L(t={contact:null,clonedContact:null,filterServices:[],convertTime:E,dayjs:m.a,timeslots:[],newField:"",addField:!1,selectedBooking:null},"timeslots",[]),L(t,"bookingModalLoading",!1),L(t,"createZoomLoading",!1),L(t,"recentNotes",[]),L(t,"editFields",!1),L(t,"addField",!1),L(t,"new_field",{}),L(t,"serviceMembers",[]),L(t,"addingNote",!1),L(t,"newNote",""),L(t,"selectedNote",null),L(t,"newBooking",{}),t},computed:P(P({},Object(i.d)({services:function(t){return t.services.index}})),{},{servicesList:function(){var t=[];return this.services.forEach((function(e){t.push({text:e.name,value:e})})),t},customFields:function(){var t=[];return(this.$root.auth.custom_fields||[]).forEach((function(e){t.push({text:e,value:e})})),t}}),watch:{selectedBooking:function(t){this.getServiceMembers(t)}},created:function(){this.getContact(),this.getServices(),this.showUserCustomFields()},mounted:function(){},methods:P(P({},Object(i.b)({getServices:"services/index",storeUserCustomFields:"user_custom_fields/store",showUserCustomFields:"user_custom_fields/show",updateContact:"contacts/update",updateBooking:"bookings/update",deleteBooking:"bookings/delete"})),{},{confirmUpdateNote:function(t){var e=this;return F(n.a.mark((function a(){var s,i;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,axios.put("/contact_notes/".concat(t.id),{note:t.new_note});case 2:s=a.sent,(i=e.contact.contact_notes.findIndex((function(e){return e.id==t.id})))>-1&&(e.contact.contact_notes[i]=s.data),e.selectedNote=null;case 6:case"end":return a.stop()}}),a)})))()},deleteContactNote:function(t,e){this.contact.contact_notes.splice(e,1)},confirmAddNote:function(){var t=this;return F(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.newNote){e.next=7;break}return e.next=3,axios.post("/contact_notes",{contact_id:t.contact.id,note:t.newNote});case 3:a=e.sent,t.contact.contact_notes.unshift(a.data),t.addingNote=!1,t.newNote="";case 7:case"end":return e.stop()}}),e)})))()},confirmDeleteBooking:function(t){this.deleteBooking(t);var e=this.contact.bookings.data.findIndex((function(e){return e.id==t.id}));e>-1&&this.contact.bookings.data.splice(e,1)},getServiceMembers:function(t){if(t){var e=[];t.service.parent_service?(e.push({text:this.$root.auth.full_name,value:t.service.parent_service_id}),t.service.parent_service.assigned_services.forEach((function(t){e.push({text:t.user.full_name,value:t.id})}))):(e.push({text:this.$root.auth.full_name,value:t.service_id}),t.service.assigned_services.forEach((function(t){e.push({text:t.user.full_name,value:t.id})}))),this.serviceMembers=e}},updateSelectedBooking:function(t){var e=this;return F(n.a.mark((function a(){var s,i;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.bookingModalLoading=!0,(t=JSON.parse(JSON.stringify(t))).date=m()(t.date).format("YYYY-MM-DD"),t.start=m()(t.start).format("HH:mm"),a.next=6,e.updateBooking(t).catch((function(){}));case 6:s=a.sent,e.bookingModalLoading=!1,s&&((i=e.contact.bookings.data.find((function(t){return t.id==s.id})))&&Object.assign(i,s),e.$refs.bookingModal.hide());case 9:case"end":return a.stop()}}),a)})))()},createZoomLink:function(t){var e=this;return F(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.createZoomLoading=!0,!e.$root.auth.zoom_token){a.next=7;break}return a.next=4,axios.get("/zoom/create_meeting?booking_id=".concat(t.id));case 4:s=a.sent,e.createZoomLoading=!1,t.zoom_link=s.data;case 7:case"end":return a.stop()}}),a)})))()},editBooking:function(t){var e=JSON.parse(JSON.stringify(t));e.start=m()("".concat(e.date," ").concat(e.start)).toDate(),e.isPrevious=m()(new Date).isSameOrAfter(m()(e.start)),this.selectedBooking=e,this.getSelectedBookingNewTimeslots(t,e.date),this.$refs.bookingModal.show()},update:function(){this.updateContact(this.contact),this.$refs.editModal.hide()},toggleContactServiceBlacklist:function(t){var e=this.contact.blacklisted_services.findIndex((function(e){return e==t.id}));e>-1?this.contact.blacklisted_services.splice(e,1):this.contact.blacklisted_services.push(t.id)},getSelectedBookingNewTimeslots:function(t,e){var a=this;return F(n.a.mark((function s(){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,axios.get("/services/".concat(t.service.id,"?date=").concat(m()(e).format("YYYY-MM-DD"),"&single=1"));case 2:i=s.sent,a.timeslots=i.data;case 4:case"end":return s.stop()}}),s)})))()},formatDate:function(t){return m()(t).format("MMM D, YYYY")},filterByServices:function(t){var e=this;return F(n.a.mark((function a(){var s,i;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.map((function(t){return t.id})),a.next=3,axios.get("/contacts/".concat(e.contact.id,"?page=").concat(e.contact.bookings.current_page,"&services=").concat(s));case 3:i=a.sent,e.contact.bookings=i.data.bookings;case 5:case"end":return a.stop()}}),a)})))()},getData:function(t){var e=this;return F(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,axios.get("/contacts/".concat(e.contact.id,"?page=").concat(t));case 2:s=a.sent,e.contact.bookings=s.data.bookings;case 4:case"end":return a.stop()}}),a)})))()},getContact:function(){var t=this;return F(n.a.mark((function e(){var a,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/contacts/".concat(t.$route.params.id));case 2:a=e.sent,(s=a.data).upcoming_bookings.forEach((function(t){t.startDate=m()("".concat(t.date," ").concat(t.start)).toDate()})),t.contact=s,i=JSON.parse(JSON.stringify(a.data)),t.clonedContact=i,t.$root.contentloading=!1,t.getRecentNotes();case 10:case"end":return e.stop()}}),e)})))()},getRecentNotes:function(){var t=this;return F(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contact){e.next=5;break}return e.next=3,axios.get("/contacts/".concat(t.contact.id,"/recent_notes"));case 3:a=e.sent,t.recentNotes=a.data;case 5:case"end":return e.stop()}}),e)})))()},resendEmail:function(t){var e=this;this.resendLoading=!0,axios.post("/contacts/".concat(t.id,"/resend")).then((function(){e.resendLoading=!1,e.$refs.resendModal.hide(),e.$toasted.show("Invitation email has been sent successfully.")}))},toggleServiceBlacklist:function(t){var e=this.newContact.blacklisted_services.findIndex((function(e){return e==t.id}));e>-1?this.newContact.blacklisted_services.splice(e,1):this.newContact.blacklisted_services.push(t.id)},openFile:function(t){"file"==t.type?this.$root.downloadMedia(t):this.selectedFile=t},resetNewContact:function(){this.newContact={custom_fields:{},blacklisted_services:[]}},addNewField:function(){this.new_field.name&&this.new_field.value&&(this.new_field.is_visible=!1,this.contact.custom_fields.push(this.new_field),this.updateContact(this.contact),this.new_field={},this.addField=!1)},updateCustomField:function(t){this.$root.auth.custom_fields[t]=this.editCustomField,this.storeUserCustomFields(),this.$refs.customFieldsLabel.click()},store:function(){var t=this;this.newContact.email&&(this.storeContact(this.newContact).then((function(){t.newContact={custom_fields:{},blacklisted_services:[],sendToEmail:1}})),this.infoTab="")}})},T=(a("QVMq"),Object(y.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.contact?a("div",{staticClass:"w-100 h-100 overflow-hidden"},[a("div",{staticClass:"overflow-auto h-100 pb-4"},[a("div",{staticClass:"p-4 d-flex align-items-center"},[a("button",{staticClass:"btn p-1 btn-white badge-pill shadow-sm",attrs:{type:"button"},on:{click:function(e){return t.$router.push("/dashboard/contacts")}}},[a("arrow-left-icon",{attrs:{width:"30",height:"30"}})],1),t._v(" "),a("div",{staticClass:"ml-auto d-flex align-items-center"},[a("button",{staticClass:"btn btn-white shadow-sm mr-2",attrs:{type:"button"},on:{click:function(e){return t.$refs.addBookingModal.show()}}},[t._v("\n\t\t\t\t\tAdd Booking\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn p-2 btn-white badge-pill shadow-sm",attrs:{"data-toggle":"dropdown","data-offset":"-130, 10"}},[a("more-icon",{attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu"},[a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(e){return t.$refs.editModal.show()}}},[t._v("\n\t\t\t\t\t\t\tSend Message\n\t\t\t\t\t\t")]),t._v(" "),a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(e){return t.$refs.editModal.show()}}},[t._v("\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t")]),t._v(" "),a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(e){return t.$refs.deleteModal.show()}}},[t._v("\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t")])])])])]),t._v(" "),a("div",{staticClass:"px-4"},[a("div",{staticClass:"row px-2 align-items-stretch"},[a("div",{staticClass:"col-md-5 px-2"},[a("div",{staticClass:"px-1"},[a("div",{staticClass:"rounded bg-white shadow-sm p-3 mb-4"},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"user-profile-image d-inline-block",style:{backgroundImage:"url("+t.contact.contact_user.profile_image+")"}},[t.contact.contact_user.profile_image?t._e():a("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.contact.contact_user.initials)+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),a("h1",{staticClass:"h3 font-heading mt-2 mb-0"},[t._v(t._s(t.contact.contact_user.full_name))]),t._v(" "),a("div",{staticClass:"text-muted mb-1"},[t._v(t._s(t.contact.contact_user.email))])]),t._v(" "),a("div",{staticClass:"d-flex justify-content-between mt-4"},[a("div",[a("div",{staticClass:"text-gray mb-1"},[t._v("Status")]),t._v(" "),a("div",[a("div",{staticClass:"badge badge-icon d-inline-flex align-items-center",class:[t.contact.is_pending?"bg-warning-light text-warning":"bg-primary-light text-primary"]},[t.contact.is_pending?a("clock-icon",{attrs:{height:"12",width:"12"}}):a("checkmark-circle-icon",{attrs:{height:"12",width:"12"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t "+t._s(t.contact.is_pending?"Pending":"Accepted")+"\n\t\t\t\t\t\t\t\t\t\t")],1)])]),t._v(" "),a("div",[a("div",{staticClass:"text-gray mb-1"},[t._v("Bookings")]),t._v(" "),a("div",[t._v(t._s(t.contact.bookings.total))])]),t._v(" "),a("div",[a("div",{staticClass:"text-gray mb-1"},[t._v("Date Added")]),t._v(" "),a("div",[t._v(t._s(t.formatDate(t.contact.created_at)))])])])]),t._v(" "),a("div",{staticClass:"rounded bg-white shadow-sm p-3 mb-4"},[a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"font-heading mb-0"},[t._v("Fields")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-light p-1 badge-pill line-height-0 shadow-none",attrs:{type:"button"},on:{click:function(e){t.editFields=!t.editFields}}},[a("pencil-icon",{attrs:{width:"18",height:"18"}})],1)]),t._v(" "),t.editFields?[t._m(0),t._v(" "),a("draggable",{attrs:{handle:".handle",list:t.contact.custom_fields},on:{end:function(e){return t.updateContact(t.contact)}}},t._l(t.contact.custom_fields,(function(e,s){return a("div",{key:e.id,staticClass:"d-flex mb-2 align-items-center"},[a("button",{staticClass:"btn p-0 d-flex align-items-center handle cursor-move",attrs:{type:"button"}},[a("move-icon",{attrs:{width:"10",height:"10",transform:"scale(1.5)"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"custom_field.name"}],staticClass:"form-control form-control-sm w-50 mr-1 ml-1",attrs:{type:"text",placeholder:"Label"},domProps:{value:e.name},on:{blur:function(e){return t.updateContact(t.contact)},input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"custom_field.value"}],staticClass:"form-control form-control-sm w-50 ml-1",attrs:{type:"text",placeholder:"Value"},domProps:{value:e.value},on:{blur:function(e){return t.updateContact(t.contact)},input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),t._v(" "),a("trash-icon",{staticClass:"cursor-pointer ml-1",attrs:{width:"18",height:"18"},nativeOn:{click:function(e){t.contact.custom_fields.splice(s,1),t.updateContact(t.contact)}}})],1)})),0),t._v(" "),t.addField||0==(t.contact.custom_fields||[]).length?a("div",{staticClass:"d-flex align-items-center"},[a("button",{staticClass:"btn p-0 d-flex align-items-center mr-1",attrs:{disabled:"",type:"button"}},[a("move-icon",{staticClass:"fill-gray-400",attrs:{width:"10",height:"10",transform:"scale(1.5)"}})],1),t._v(" "),a("vue-select",{attrs:{options:t.customFields,button_class:"form-control-sm mr-1",searchable:!0,suggestion:!0,container_class:"w-50",caret:!1,placeholder:"Label"},model:{value:t.new_field.name,callback:function(e){t.$set(t.new_field,"name",e)},expression:"new_field.name"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_field.value,expression:"new_field.value"}],staticClass:"form-control form-control-sm w-50 ml-2",attrs:{type:"text",placeholder:"Value"},domProps:{value:t.new_field.value},on:{input:function(e){e.target.composing||t.$set(t.new_field,"value",e.target.value)}}}),t._v(" "),a("trash-icon",{staticClass:"ml-1 opacity-0",attrs:{width:"18",height:"18"}})],1):t._e(),t._v(" "),a("div",{staticClass:"d-flex align-items-center mt-4"},[a("button",{staticClass:"btn btn-sm btn-light shadow-none",attrs:{type:"button"},on:{click:function(e){t.editFields=!1}}},[t._v("Close")]),t._v(" "),t.addField||0==(t.contact.custom_fields||[]).length?a("button",{staticClass:"ml-auto btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.addNewField}},[t._v("Save Field")]):a("button",{staticClass:"ml-auto btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){t.addField=!0}}},[t._v("Add Field")])])]:t._l(t.contact.custom_fields,(function(e,s){return a("div",{key:s,staticClass:"d-flex align-items-center custom-field position-relative"},[a("div",{staticClass:"mt-3 d-flex align-items-center w-100"},[a("span",{staticClass:"text-muted"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"ml-auto d-flex align-items-center"},[a("span",[t._v(t._s(e.value))]),t._v(" "),a("trash-icon",{staticClass:"cursor-pointer ml-1 d-none",attrs:{width:"18",height:"18"},nativeOn:{click:function(e){return t.$root.auth.custom_fields.splice(s,1)}}})],1)])])}))],2),t._v(" "),a("div",{staticClass:"rounded bg-white shadow-sm p-3 mb-4"},[a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"font-heading mb-0"},[t._v("Notes")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-light p-1 badge-pill line-height-0 shadow-none",attrs:{type:"button"},on:{click:function(e){t.addingNote=!0,t.selectedNote=null}}},[a("plus-icon",{attrs:{width:"18",height:"18",transform:"scale(1.4)"}})],1)]),t._v(" "),t.addingNote&&!t.selectedNote?a("vue-form-validate",{staticClass:"mt-2 mb-3",on:{submit:function(e){return t.confirmAddNote()}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newNote,expression:"newNote"}],staticClass:"form-control resize-none",attrs:{placeholder:"Write note...","data-required":"",rows:"3"},domProps:{value:t.newNote},on:{input:function(e){e.target.composing||(t.newNote=e.target.value)}}}),t._v(" "),a("div",{staticClass:"d-flex align-items-center mt-2"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button"},on:{click:function(e){t.addingNote=!1}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-primary",attrs:{type:"submit"}},[t._v("Add")])])]):t.selectedNote?a("vue-form-validate",{staticClass:"mt-2 mb-3",on:{submit:function(e){return t.confirmUpdateNote(t.selectedNote)}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selectedNote.new_note,expression:"selectedNote.new_note"}],staticClass:"form-control resize-none",attrs:{placeholder:"Write note...","data-required":"",rows:"3"},domProps:{value:t.selectedNote.new_note},on:{input:function(e){e.target.composing||t.$set(t.selectedNote,"new_note",e.target.value)}}}),t._v(" "),a("div",{staticClass:"d-flex align-items-center mt-2"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button"},on:{click:function(e){t.selectedNote=null}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])])]):t._e(),t._v(" "),t._l(t.contact.contact_notes,(function(e,s){return[t.selectedNote&&t.selectedNote.id==e.id?t._e():a("div",{key:e.id,staticClass:"d-flex align-items-center rounded bg-light px-3 py-2 mt-2"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.note)+"\n\n\t\t\t\t\t\t\t\t\t"),a("div",{staticClass:"ml-auto mr-n2"},[a("div",{staticClass:"dropleft"},[a("button",{staticClass:"btn btn-light p-1 line-height-0",attrs:{"data-toggle":"dropdown"}},[a("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){t.selectedNote=e,t.selectedNote.new_note=t.selectedNote.note}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){return t.deleteContactNote(e,s)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])]}))],2)])]),t._v(" "),a("div",{staticClass:"col-md-7 px-2"},[a("div",{staticClass:"px-1 h-100"},[t.recentNotes.length>0?a("div",{staticClass:"row px-2 mb-4"},t._l(t.recentNotes,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 px-2"},[a("div",{staticClass:"px-1 h-100"},[a("div",{staticClass:"rounded bg-white shadow-sm p-3 h-100 d-flex flex-column"},[a("div",{staticClass:"d-flex"},[a("note-icon",{staticClass:"fill-gray ml-n1",attrs:{width:"35",height:"35"}}),t._v(" "),a("div",{staticClass:"pl-1"},[a("small",{staticClass:"text-gray d-block"},[t._v("Booking date")]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v(t._s(t.formatDate(e.booking.date)))])])],1),t._v(" "),a("p",{staticClass:"mb-0 mt-2 flex-grow-1"},[t._v(t._s(e.note))])])])])})),0):t._e(),t._v(" "),a("div",{staticClass:"rounded bg-white shadow-sm d-flex flex-column p-3 mb-4"},[a("h5",{staticClass:"font-heading"},[t._v("Upcoming Bookings")]),t._v(" "),a("div",{staticClass:"flex-grow-1"},[t.contact.upcoming_bookings.length>0?t._l(t.contact.upcoming_bookings,(function(e){return a("div",{key:e.id,staticClass:"mt-3"},[a("div",{staticClass:"d-flex"},[a("div",[a("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(e.service.name))]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.formatDate(e.date))+" "+t._s(t.dayjs(e.startDate).format("hh:mmA"))+" -\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.dayjs(e.startDate).add(e.service.duration,"minute").format("hh:mmA"))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"ml-auto"},[a("div",{staticClass:"dropleft"},[a("button",{staticClass:"btn btn-white p-1 line-height-0",attrs:{"data-toggle":"dropdown"}},[a("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){return t.editBooking(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])])})):a("div",{staticClass:"py-3 text-center text-gray"},[t._v("No upcoming bookings")])],2)]),t._v(" "),a("div",{staticClass:"rounded bg-white shadow-sm p-3"},[a("div",{staticClass:"d-flex mb-2"},[a("h5",{staticClass:"font-heading mb-3"},[t._v("Bookings")]),t._v(" "),a("div",{staticClass:"ml-auto d-flex align-items-center"},[a("div",{staticClass:"d-inline-flex align-items-center"},[a("vue-select",{attrs:{options:t.servicesList,multiple:"",button_class:"border-0 bg-light shadow-none",label:"Services",placeholder:"All"},on:{input:t.filterByServices},model:{value:t.filterServices,callback:function(e){t.filterServices=e},expression:"filterServices"}})],1)])]),t._v(" "),t.contact.bookings.data.length>0?a("div",[a("table",{staticClass:"table table-borderless mb-0"},[a("tbody",{staticClass:" shadow-none"},[t._l(t.contact.bookings.data,(function(e){return[a("tr",{key:e.id},[a("td",{staticClass:"align-middle pl-0"},[t._v(t._s(e.service.name))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.formatDate(e.date))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.convertTime(e.start,"hh:MMA"))+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"align-middle pr-0"},[a("div",{staticClass:"flex-grow-1 text-right"},[a("div",{staticClass:"dropleft"},[a("button",{staticClass:"btn btn-white p-1 line-height-0",attrs:{"data-toggle":"dropdown"}},[a("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){return t.editBooking(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])])]}))],2)])]):a("div",{staticClass:"px-4 mb-4"},[a("div",{staticClass:"text-center py-3 text-muted"},[t._v("\n\t\t\t\t\t\t\t\t\tNo bookings found.\n\t\t\t\t\t\t\t\t")])])]),t._v(" "),a("div",{staticClass:"mt-3 text-right"},[a("paginate",{attrs:{data:t.contact.bookings},on:{change:t.getData}})],1)])])])])]),t._v(" "),a("modal",{ref:"addBookingModal",attrs:{"close-button":!1,scrollable:!1}},[a("vue-form-validate",[a("h5",{staticClass:"font-heading"},[t._v("Add Booking")]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Booking Type")]),t._v(" "),a("vue-select",{attrs:{options:t.servicesList,required:"",button_class:"form-control",placeholder:"Select booking type"},model:{value:t.newBooking.service_id,callback:function(e){t.$set(t.newBooking,"service_id",e)},expression:"newBooking.service_id"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Coach")]),t._v(" "),a("vue-select",{attrs:{options:t.servicesList,required:"",button_class:"form-control",placeholder:"Select coach"},model:{value:t.newBooking.coach_id,callback:function(e){t.$set(t.newBooking,"coach_id",e)},expression:"newBooking.coach_id"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Timeslot")])]),t._v(" "),a("div",{staticClass:"d-flex justify-content-between mt-3"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal",disabled:t.bookingModalLoading}},[t._v("Cancel")]),t._v(" "),a("vue-button",{attrs:{type:"submit",button_class:"btn btn-primary shadow-sm border",loading:t.bookingModalLoading}},[t._v("Add")])],1)])],1),t._v(" "),a("modal",{ref:"bookingModal",attrs:{"close-button":(t.selectedBooking||{}).isPrevious,scrollable:!1}},[t.selectedBooking?a("div",{staticClass:"text-center"},[a("div",{staticClass:"profile-image profile-image-md d-inline-block mb-2",style:{"background-image":"url("+t.contact.contact_user.profile_image+")"}},[t.contact.contact_user.profile_image?t._e():a("span",[t._v(t._s(t.contact.contact_user.initials))])]),t._v(" "),a("h4",{staticClass:"font-heading mb-4"},[t._v("\n\t\t\t\t"+t._s(t.contact.contact_user.full_name)+"\n\t\t\t")]),t._v(" "),a("div",{staticClass:"py-3"},[a("div",{staticClass:"d-flex align-items-center text-left mb-3"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Service")]),t._v(" "),a("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.selectedBooking.service.name))])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center text-left mb-3"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Coach")]),t._v(" "),t.selectedBooking.isPrevious?a("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.selectedService.user.full_name))]):a("vue-select",{attrs:{button_class:"border-0 shadow-none btn btn-light bg-light",options:t.serviceMembers},model:{value:t.selectedBooking.service_id,callback:function(e){t.$set(t.selectedBooking,"service_id",e)},expression:"selectedBooking.service_id"}})],1),t._v(" "),a("div",{staticClass:"d-flex align-items-center text-left mb-3"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Date")]),t._v(" "),t.selectedBooking.isPrevious?a("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.formatDate(t.selectedBooking.date)))]):a("v-date-picker",{attrs:{"min-date":new Date,popover:{placement:"right",visibility:"click"}},on:{input:t.getSelectedBookingNewTimeslots},scopedSlots:t._u([{key:"default",fn:function(e){e.inputValue;var s=e.inputEvents;return[a("button",t._g({staticClass:"btn btn-light shadow-none",attrs:{type:"button"}},s),[t._v(t._s(t.formatDate(t.selectedBooking.date)))])]}}],null,!1,4258456296),model:{value:t.selectedBooking.date,callback:function(e){t.$set(t.selectedBooking,"date",e)},expression:"selectedBooking.date"}})],1),t._v(" "),a("div",{staticClass:"d-flex align-items-center text-left mb-3"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Starts at")]),t._v(" "),t.selectedBooking.isPrevious?a("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.dayjs(t.selectedBooking.start).format("hh:mmA")))]):a("div",{staticClass:"dropright"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{"data-toggle":"dropdown"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.dayjs(t.selectedBooking.start).format("hh:mmA"))+"\n\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"dropdown-menu timeslots-dropdown-menu overflow-y-auto"},[0==t.timeslots.length?a("div",{staticClass:"text-center text-gray small px-2 py-1 text-nowrap"},[t._v("No available timeslots")]):t._l(t.timeslots,(function(e,s){return[a("button",{key:s,staticClass:"btn btn-primary btn-block mb-1",attrs:{type:"button","xv-if":"timeslot.is_available"},on:{click:function(a){t.selectedBooking.start=t.dayjs(t.dayjs(t.selectedBooking.date).format("Y-m-d")+" "+e.time).toDate()}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.label)+"\n\t\t\t\t\t\t\t\t")])]}))],2)])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center text-left mb-3"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Ends at")]),t._v(" "),a("div",{staticClass:"h6 font-heading mb-0"},[t._v("\n\t\t\t\t\t\t"+t._s(t.dayjs(t.selectedBooking.start).add(t.selectedBooking.service.duration,"minute").format("hh:mmA"))+"\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center text-left"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Duration")]),t._v(" "),a("div",{staticClass:"h6 font-heading mb-0"},[t._v(t._s(t.selectedBooking.service.duration)+" minutes")])]),t._v(" "),a("div",{staticClass:"text-left mt-3"},[a("div",{staticClass:"font-weight-normal text-secondary w-50 mb-2"},[t._v("Notes")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selectedBooking.booking_note.note,expression:"selectedBooking.booking_note.note"}],staticClass:"form-control resize-none",attrs:{rows:"4",placeholder:"Write notes.."},domProps:{value:t.selectedBooking.booking_note.note},on:{input:function(e){e.target.composing||t.$set(t.selectedBooking.booking_note,"note",e.target.value)}}})]),t._v(" "),t.selectedBooking.isPrevious?t._e():a("div",{staticClass:"text-left"},[Object.keys(t.selectedBooking.zoom_link).length>0?a("div",{staticClass:"mt-3"},[a("div",{staticClass:"d-flex align-items-center text-left"},[a("div",{staticClass:"font-weight-normal text-secondary w-50"},[t._v("Zoom Link")]),t._v(" "),a("a",{staticClass:"d-flex align-items-center",attrs:{target:"_blank",href:t.selectedBooking.zoom_link.join_url}},[t._v("\n\t\t\t\t\t\t\t\tGo to Zoom meeting\n\t\t\t\t\t\t\t\t"),a("shortcut-icon",{staticClass:"ml-1 fill-blue",attrs:{width:"16",height:"16"}})],1)])]):t.$root.auth.zoom_token?a("vue-button",{attrs:{type:"button",loading:t.createZoomLoading,button_class:"btn btn-light shadow-none mt-3"},on:{click:function(e){return t.createZoomLink(t.selectedBooking)}}},[a("div",{staticClass:"d-flex align-items-center"},[a("zoom-icon",{staticClass:"mr-2",attrs:{width:"20",height:"20"}}),t._v("\n\t\t\t\t\t\t\tCreate Zoom link\n\t\t\t\t\t\t")],1)]):t._e()],1)]),t._v(" "),t.selectedBooking.isPrevious?t._e():a("div",{staticClass:"d-flex justify-content-between mt-3"},[a("div",{staticClass:"d-flex align-items-center"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal",disabled:t.bookingModalLoading}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn btn-link text-danger",attrs:{type:"button","data-dismiss":"modal",disabled:t.bookingModalLoading},on:{click:function(e){return t.$refs.deleteBookingModal.show()}}},[t._v("Delete")])]),t._v(" "),a("vue-button",{attrs:{type:"button",button_class:"btn btn-primary shadow-sm border",loading:t.bookingModalLoading},nativeOn:{click:function(e){return t.updateSelectedBooking(t.selectedBooking)}}},[t._v("Update")])],1)]):t._e()]),t._v(" "),a("modal",{ref:"deleteBookingModal",attrs:{"close-button":!1}},[t.selectedBooking?[a("h5",{staticClass:"font-heading text-center"},[t._v("Delete Booking")]),t._v(" "),a("p",{staticClass:"text-center mt-3"},[t._v("\n\t\t\t\tAre you sure to delete this booking?\n\t\t\t")]),t._v(" "),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$refs.bookingModal.show()}}},[t._v("\n\t\t\t\t\tCancel\n\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-danger ml-auto",attrs:{type:"button"},on:{click:function(e){t.confirmDeleteBooking(t.selectedBooking),t.$refs.deleteBookingModal.hide()}}},[t._v("\n\t\t\t\t\tDelete\n\t\t\t\t")])])]:t._e()],2),t._v(" "),a("modal",{ref:"editModal",attrs:{"close-button":!1}},[a("h5",{staticClass:"font-heading mb-3"},[t._v("Edit Contact")]),t._v(" "),t.contact?a("vue-form-validate",{on:{submit:function(e){return t.update(t.contact)}}},[a("fieldset",{attrs:{disabled:!t.contact.is_pending}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.email,expression:"contact.email"}],staticClass:"form-control",attrs:{type:"email","data-required":""},domProps:{value:t.contact.email},on:{input:function(e){e.target.composing||t.$set(t.contact,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row form-group"},[a("div",{staticClass:"col"},[a("label",{staticClass:"form-label"},[t._v("First Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.first_name,expression:"contact.first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.contact.first_name},on:{input:function(e){e.target.composing||t.$set(t.contact,"first_name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"form-label"},[t._v("Last Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.last_name,expression:"contact.last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.contact.last_name},on:{input:function(e){e.target.composing||t.$set(t.contact,"last_name",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("strong",{staticClass:"d-block mb-2 font-weight-bold"},[t._v("Available services")]),t._v(" "),t._l(t.services,(function(e){return a("div",{key:e.id,staticClass:"d-flex align-items-center mb-2 rounded p-3 bg-light"},[a("div",[a("h6",{staticClass:"font-heading mb-0"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"ml-auto"},[a("toggle-switch",{attrs:{"active-class":"bg-primary",value:!t.contact.blacklisted_services.find((function(t){return t==e.id}))},on:{input:function(a){return t.toggleContactServiceBlacklist(e,t.contact)}}})],1)])}))],2),t._v(" "),a("div",{staticClass:"d-flex mt-4"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])])]):t._e()],1)],1):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex mb-2 text-gray mt-3"},[e("span",{staticClass:"w-50 ml-3"},[this._v("Label")]),this._v(" "),e("span",{staticClass:"w-50 ml-n1"},[this._v("Value")])])}],!1,null,"3c14ee04",null));e.default=T.exports},"9O57":function(t,e,a){"use strict";var s={name:"zoom"},n=a("KHd+"),i=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24 48C37.2548 48 48 37.2548 48 24C48 10.7452 37.2548 0 24 0C10.7452 0 0 10.7452 0 24C0 37.2548 10.7452 48 24 48Z",fill:"#2D8CFF"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.087 15.9353L31.3043 20.884V27.135L38.087 32.0837C38.5669 32.4503 39.1304 32.5636 39.1304 31.5628V16.4562C39.1304 15.5638 38.6782 15.4517 38.087 15.9353ZM8.34782 27.7567V16.4873C8.34782 16.0263 8.72491 15.6522 9.19007 15.6522H25.6254C28.1845 15.6522 30.2609 17.7077 30.2609 20.2433V31.5127C30.2609 31.9737 29.8838 32.3478 29.4186 32.3478H12.9833C10.4242 32.3478 8.34782 30.2923 8.34782 27.7567Z",fill:"white"}})])}),[],!1,null,null,null);e.a=i.exports},AQg2:function(t,e,a){"use strict";a("gq7r")},C0OC:function(t,e,a){(e=a("JPst")(!1)).push([t.i,".info[data-v-3c14ee04]{transition:all .1s ease-in-out;width:350px;margin-right:-350px}.info.open[data-v-3c14ee04]{margin-right:0}.user-profile-image[data-v-3c14ee04]{width:100px;height:100px}.user-profile-image span[data-v-3c14ee04]{font-size:35px}.user-profile-image-sm[data-v-3c14ee04]{width:40px;height:40px}.user-profile-image-sm span[data-v-3c14ee04]{font-size:13px}.contact.active[data-v-3c14ee04]{box-shadow:0 0 0 .1rem #5a5adf}.w-35[data-v-3c14ee04]{width:35% !important}.w-15[data-v-3c14ee04]{width:15% !important}.custom-field .edit-custom-field[data-v-3c14ee04]{opacity:0;transition:all .1s ease-in-out}.custom-field .edit-custom-field[aria-expanded=true][data-v-3c14ee04]{opacity:1}.custom-field:hover .edit-custom-field[data-v-3c14ee04]{opacity:1}.badge-icon svg[data-v-3c14ee04]{transform:scale(1.3);margin-right:2px}.badge-icon.text-primary svg[data-v-3c14ee04]{fill:#5a5adf}.badge-icon.text-warning svg[data-v-3c14ee04]{fill:#ffc107}.btn-close[data-v-3c14ee04]{top:10px;right:10px}.profile-image[data-v-3c14ee04]{width:80px;height:80px;border-radius:50%;background-size:cover;background-size:no-repeat;background-position:center;background-color:#ced4da;position:relative}.profile-image span[data-v-3c14ee04]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#adb5bd;font-size:24px}.profile-image.profile-image-md[data-v-3c14ee04]{width:60px;height:60px}.profile-image.profile-image-md span[data-v-3c14ee04]{font-size:24px}",""]),t.exports=e},O9dX:function(t,e,a){"use strict";a("/yFD")},QVMq:function(t,e,a){"use strict";a("T8f0")},RrSB:function(t,e,a){"use strict";var s=a("IGiv"),n=a("kdyA"),i={components:{ChevronRightIcon:s.a,ChevronLeftIcon:n.a},props:{data:{type:Object,require:!0}},computed:{pages:function(){for(var t=[],e=1,a=Math.ceil(this.data.total/this.data.per_page);e<=a;)t.push(e),e++;return t}},methods:{goToPage:function(t){if(t){t=new URL(t);var e=new URLSearchParams(t.search).get("page");this.change(e)}},change:function(t){this.$emit("change",t)}}},o=(a("O9dX"),a("KHd+")),c=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.data?a("div",[a("ul",{staticClass:"pagination shadow-sm mb-0 d-inline-flex"},[a("li",{staticClass:"page-item",class:{disabled:!t.data.prev_page_url},on:{click:function(e){return t.goToPage(t.data.prev_page_url)}}},[a("span",{staticClass:"page-link cursor-pointer"},[a("chevron-left-icon",{attrs:{width:"10",height:"10",transform:"scale(3.0)"}})],1)]),t._v(" "),t._l(t.pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:e==t.data.current_page},on:{click:function(a){return t.change(e)}}},[a("span",{staticClass:"page-link cursor-pointer"},[t._v(t._s(e))])])})),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:!t.data.next_page_url},on:{click:function(e){return t.goToPage(t.data.next_page_url)}}},[a("span",{staticClass:"page-link cursor-pointer"},[a("chevron-right-icon",{attrs:{width:"10",height:"10",transform:"scale(3.0)"}})],1)])],2)]):t._e()])}),[],!1,null,"f7e753c0",null);e.a=c.exports},T8f0:function(t,e,a){var s=a("C0OC");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},dNBw:function(t,e,a){(e=a("JPst")(!1)).push([t.i,".page-item.disabled svg[data-v-f7e753c0]{opacity:.25}",""]),t.exports=e},eeqt:function(t,e,a){"use strict";var s={name:"arrow-left"},n=a("KHd+"),i=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M8.70710678,12 L18.5,12 C18.7761424,12 19,12.2238576 19,12.5 C19,12.7761424 18.7761424,13 18.5,13 L8.70710678,13 L11.8535534,16.1464466 C12.0488155,16.3417088 12.0488155,16.6582912 11.8535534,16.8535534 C11.6582912,17.0488155 11.3417088,17.0488155 11.1464466,16.8535534 L7.14644661,12.8535534 C6.95118446,12.6582912 6.95118446,12.3417088 7.14644661,12.1464466 L11.1464466,8.14644661 C11.3417088,7.95118446 11.6582912,7.95118446 11.8535534,8.14644661 C12.0488155,8.34170876 12.0488155,8.65829124 11.8535534,8.85355339 L8.70710678,12 Z"}})])}),[],!1,null,null,null);e.a=i.exports},gq7r:function(t,e,a){var s=a("ou3K");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},hlRI:function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),n=a.n(s),i=a("L2JU"),o=a("jBWl"),c=a("MCve"),l=a("4m4z"),r=a("T1qZ"),d=a("5cWj"),u=a("lIWo"),v=a("dRai"),m=a("cmxz"),f=a("grtR"),g=a("NalG"),p=a("XPXJ"),h=a("KlRW"),_=a("/X8E"),b=a("UEn/"),C=a("RrSB");function w(t,e,a,s,n,i,o){try{var c=t[i](o),l=c.value}catch(t){return void a(t)}c.done?e(l):Promise.resolve(l).then(s,n)}function x(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function o(t){w(i,s,n,o,c,"next",t)}function c(t){w(i,s,n,o,c,"throw",t)}o(void 0)}))}}function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){N(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function N(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var B={components:{Modal:o.a,VueFormValidate:c.a,VueCheckbox:l.a,VueButton:r.a,ToggleSwitch:d.a,Info:u.default,MoreIcon:v.a,PlusIcon:m.a,TrashIcon:f.a,PencilIcon:g.a,ClockIcon:p.a,CheckmarkCircleIcon:h.a,CloseIcon:_.a,VueSelect:b.a,Paginate:C.a},data:function(){return{infoTab:"",selectedContact:null,manageContact:!1,manageFields:!1,addContact:!1,newContact:{custom_fields:{},blacklisted_services:[],sendToEmail:1},activeTab:"custom_fields",selectedFile:null,addField:!1,newField:"",resendLoading:!1,clonedContact:null,contactStatuses:[{text:"All",value:"all"},{text:"Accepted",value:"accepted"},{text:"Pending",value:"pending"}],contactStatus:"all",query:""}},computed:y(y({},Object(i.d)({conversations:function(t){return t.conversations.index},contacts:function(t){return t.contacts.paginated},hasContacts:function(t){return t.contacts.hasContacts},ready:function(t){return t.contacts.ready},services:function(t){return t.services.index},user_blacklisted_services:function(t){return t.user_blacklisted_services.index}})),{},{defaultEmailMessage:function(){return"".concat(this.$root.auth.full_name," has invited you in ").concat(APP_NAME)},blacklisted_services:function(){return this.user_blacklisted_services[(this.selectedContact.contact_user||{}).id]||[]},conversation:function(){var t=this;if(!this.selectedContact)return{};var e=this.conversations.find((function(e){return 1==e.members.length&&e.member.id==t.selectedContact.contact_user.id}));return e?this.selectedContact.ready||this.showConversation({id:e.id}).then((function(){e.files=null,t.$root.getFiles(e)})):(this.$root.auth.services=this.services,e={ready:!0,member:this.selectedContact.contact_user,members:[this.selectedContact.contact_user],user:this.$root.auth,user_id:this.$root.auth.id}),e.member.contact=this.selectedContact,this.selectedContact.ready=!0,e}}),watch:{ready:function(t){this.$root.contentloading=!t}},created:function(){var t=this;this.$root.contentloading=!this.ready,this.getServices(),this.getContacts(),this.showUserCustomFields(),this.$root.socket.on("invite_token",(function(e){e&&t.getContactFromInviteToken(e)}))},mounted:function(){var t=this;this.$root.intros.contacts_index.enabled&&setTimeout((function(){document.querySelector(".introjs-overlay")||t.$root.intros.contacts_index.intro.start()}),500)},methods:y(y({},Object(i.b)({getServices:"services/index",getContacts:"contacts/index",storeContact:"contacts/store",updateContact:"contacts/update",deleteContact:"contacts/delete",getContactFromInviteToken:"contacts/get_contact_from_invite_token",showUserCustomFields:"user_custom_fields/show",storeUserCustomFields:"user_custom_fields/store",showConversation:"conversations/show"})),{},{getData:function(){var t=arguments,e=this;return x(n.a.mark((function a(){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=t.length>0&&void 0!==t[0]?t[0]:e.contact.current_page,e.getContacts({page:s,query:e.query,status:e.contactStatus});case 2:case"end":return a.stop()}}),a)})))()},update:function(t){this.updateContact(t),this.$refs.editModal.hide()},goToContact:function(t){this.$router.push("/dashboard/contacts/".concat(t.id))},resendEmail:function(t){var e=this;this.resendLoading=!0,axios.post("/contacts/".concat(t.id,"/resend")).then((function(){e.resendLoading=!1,e.$refs.resendModal.hide(),e.$toasted.show("Invitation email has been sent successfully.")}))},toggleContactServiceBlacklist:function(t,e){var a=e.blacklisted_services.findIndex((function(e){return e==t.id}));a>-1?e.blacklisted_services.splice(a,1):e.blacklisted_services.push(t.id)},toggleServiceBlacklist:function(t){var e=this.newContact.blacklisted_services.findIndex((function(e){return e==t.id}));e>-1?this.newContact.blacklisted_services.splice(e,1):this.newContact.blacklisted_services.push(t.id)},openFile:function(t){"file"==t.type?this.$root.downloadMedia(t):this.selectedFile=t},resetNewContact:function(){this.newContact={custom_fields:{},blacklisted_services:[]}},addNewField:function(){this.newField.trim().length>0&&(this.$root.auth.custom_fields.push(this.newField),this.newField="",this.addField=!1),this.storeUserCustomFields(),this.$toasted.show("Fields saved successfully.")},updateCustomField:function(t){this.$root.auth.custom_fields[t]=this.editCustomField,this.storeUserCustomFields(),this.$refs.customFieldsLabel.click()},store:function(){var t=this;this.newContact.email&&(this.storeContact(this.newContact).then((function(){t.newContact={custom_fields:{},blacklisted_services:[],sendToEmail:1}})),this.$refs.addModal.hide())}})},$=(a("AQg2"),a("KHd+")),M=Object($.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.ready?a("div",{staticClass:"h-100"},[a("div",{staticClass:"d-flex h-100"},[a("div",{staticClass:"h-100 flex-grow-1"},[a("div",{staticClass:"d-flex flex-column h-100"},[a("div",{staticClass:"border-bottom bg-white p-3 d-flex align-items-center"},[a("h5",{staticClass:"font-heading mb-0"},[t._v("Contacts")]),t._v(" "),a("div",{staticClass:"ml-auto d-flex align-items-center"},[a("button",{staticClass:"btn btn-light shadow-none d-flex align-items-center",attrs:{"data-intro":t.$root.intros.contacts_index.steps[0],"data-step":"1",type:"button"},on:{click:function(e){return t.$refs.addModal.show()}}},[a("plus-icon",{staticClass:"btn-icon"}),t._v("\n\t\t\t\t\t\t\tAdd Contact\n\t\t\t\t\t\t")],1),t._v(" "),a("button",{staticClass:"btn btn-light ml-1 shadow-none",attrs:{"data-intro":t.$root.intros.contacts_index.steps[1],"data-step":"2",type:"button"},on:{click:function(e){t.infoTab="manage_fields"}}},[t._v("Manage Fields")])])]),t._v(" "),a("div",{staticClass:"rounded mt-2 overflow-auto h-100 flex-grow-1 d-flex flex-column"},[t.hasContacts||0!=t.contacts.data.length?a("div",{staticClass:"overflow-auto flex-grow-1 pb-4 px-4 pt-3 h-100"},[a("div",{staticClass:"d-flex align-items-center"},[a("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.getData(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"ml-auto d-flex align-items-center"},[a("vue-select",{attrs:{"data-intro":t.$root.intros.contacts_index.steps[2],"data-step":"3",options:t.contactStatuses,button_class:"border-0 bg-white shadow-sm",label:"Status"},on:{input:t.getData},model:{value:t.contactStatus,callback:function(e){t.contactStatus=e},expression:"contactStatus"}}),t._v(" "),a("paginate",{staticClass:"ml-2",attrs:{data:t.contacts},on:{change:t.getData}})],1)]),t._v(" "),0==t.contacts.data.length?a("div",{staticClass:"text-gray position-absolute-center"},[t._v("\n\t\t\t\t\t\t\tNo contacts found with your search query.\n\t\t\t\t\t\t")]):a("table",{staticClass:"table table-borderless table-hover mb-0 mt-2"},[t._m(0),t._v(" "),a("tbody",t._l(t.contacts.data,(function(e,s){return a("tr",{key:e.id,staticClass:"cursor-pointer"},[a("td",{staticClass:"align-middle",on:{click:function(a){return t.goToContact(e)}}},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"user-profile-image user-profile-image-sm",style:{backgroundImage:"url("+e.contact_user.profile_image+")"}},[e.contact_user.profile_image?t._e():a("span",[t._v(t._s(e.contact_user.initials))])]),t._v(" "),a("div",{staticClass:"ml-2 overflow-hidden flex-1"},[a("h6",{staticClass:"font-heading mb-0 text-ellipsis"},[t._v(t._s(e.contact_user.full_name))]),t._v(" "),a("small",{staticClass:"d-block text-muted"},[t._v(t._s(e.contact_user.email))])])])]),t._v(" "),a("td",{staticClass:"align-middle",on:{click:function(a){return t.goToContact(e)}}},[a("div",{staticClass:"flex-grow-1"},[a("div",{staticClass:"badge badge-icon d-inline-flex align-items-center",class:[e.is_pending?"bg-warning-light text-warning":"bg-primary-light text-primary"]},[e.is_pending?a("clock-icon",{attrs:{height:"12",width:"12"}}):a("checkmark-circle-icon",{attrs:{height:"12",width:"12"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t "+t._s(e.is_pending?"Pending":"Accepted")+"\n\t\t\t\t\t\t\t\t\t\t\t")],1)])]),t._v(" "),a("td",{staticClass:"align-middle",on:{click:function(a){return t.goToContact(e)}}},[a("div",{staticClass:"flex-grow-1 text-muted"},[t._v(t._s(e.created_at_format))])]),t._v(" "),a("td",{staticClass:"align-middle"},[a("div",{staticClass:"flex-grow-1 text-right"},[a("div",{staticClass:"dropleft"},[a("button",{staticClass:"btn btn-white p-1 line-height-0",attrs:{"data-intro":0==s?t.$root.intros.contacts_index.steps[3]:null,"data-step":0==s?4:null,"data-toggle":"dropdown"}},[a("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e.is_pending?a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){t.selectedContact=e,t.$refs.resendModal.show()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tResend invitation\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){t.clonedContact=Object.assign({},e),t.$refs.editModal.show()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(a){t.selectedContact=e,t.$refs.deleteModal.show()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])])})),0)])]):a("div",{staticClass:"text-secondary text-center p-4 position-absolute-center"},[a("div",{staticClass:"h6 mb-0 font-weight-normal"},[t._v("You don't have any contacts yet.")])])])])]),t._v(" "),a("div",{staticClass:"info bg-white h-100 border-left d-flex flex-column position-relative",class:{open:t.infoTab}},[a("button",{staticClass:"btn btn-white p-0 btn-close position-absolute",attrs:{type:"button"},on:{click:function(e){t.infoTab=""}}},[a("close-icon",{attrs:{height:"30",width:"30"}})],1),t._v(" "),"manage_contact"==t.infoTab?[t._m(1),t._v(" "),t.selectedContact?[a("info",{attrs:{"close-button":!1,conversation:t.conversation}})]:t._e()]:"manage_fields"==t.infoTab?[t._m(2),t._v(" "),a("div",{ref:"customFieldsLabel",staticClass:"p-3"},[t._l(t.$root.auth.custom_fields,(function(e,s){return a("div",{key:s,staticClass:"d-flex align-items-center custom-field position-relative"},[a("div",{staticClass:"mb-1 d-flex align-items-center w-100"},[a("input",{staticClass:"form-control flex-grow-1",attrs:{type:"text"},domProps:{value:e}}),t._v(" "),a("trash-icon",{staticClass:"cursor-pointer ml-1",attrs:{width:"18",height:"18"},nativeOn:{click:function(e){return t.$root.auth.custom_fields.splice(s,1)}}})],1)])})),t._v(" "),a("div",{staticClass:"mb-1 d-flex align-items-center w-100"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newField,expression:"newField"}],staticClass:"form-control flex-grow-1",attrs:{type:"text",placeholder:"New Field"},domProps:{value:t.newField},on:{input:function(e){e.target.composing||(t.newField=e.target.value)}}}),t._v(" "),a("trash-icon",{staticClass:"ml-1 opacity-0",attrs:{width:"18",height:"18"}})],1),t._v(" "),a("div",{staticClass:"d-flex mt-1"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.addField},on:{click:function(e){return t.addNewField()}}},[t._v("Save")])])],2)]:t._e()],2)]),t._v(" "),a("modal",{ref:"editModal",attrs:{"close-button":!1}},[a("h5",{staticClass:"font-heading mb-3"},[t._v("Edit Contact")]),t._v(" "),t.clonedContact?a("vue-form-validate",{on:{submit:function(e){return t.update(t.clonedContact)}}},[a("fieldset",{attrs:{disabled:!t.clonedContact.is_pending}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clonedContact.email,expression:"clonedContact.email"}],staticClass:"form-control",attrs:{type:"email","data-required":""},domProps:{value:t.clonedContact.email},on:{input:function(e){e.target.composing||t.$set(t.clonedContact,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row form-group"},[a("div",{staticClass:"col"},[a("label",{staticClass:"form-label"},[t._v("First Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clonedContact.first_name,expression:"clonedContact.first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clonedContact.first_name},on:{input:function(e){e.target.composing||t.$set(t.clonedContact,"first_name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"form-label"},[t._v("Last Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clonedContact.last_name,expression:"clonedContact.last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clonedContact.last_name},on:{input:function(e){e.target.composing||t.$set(t.clonedContact,"last_name",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("strong",{staticClass:"d-block mb-2 font-weight-bold"},[t._v("Available services")]),t._v(" "),t._l(t.services,(function(e){return a("div",{key:e.id,staticClass:"d-flex align-items-center mb-2 rounded p-3 bg-light"},[a("div",[a("h6",{staticClass:"font-heading mb-0"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"ml-auto"},[a("toggle-switch",{attrs:{"active-class":"bg-primary",value:!t.clonedContact.blacklisted_services.find((function(t){return t==e.id}))},on:{input:function(a){return t.toggleContactServiceBlacklist(e,t.clonedContact)}}})],1)])}))],2),t._v(" "),a("div",{staticClass:"d-flex mt-4"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])])]):t._e()],1),t._v(" "),a("modal",{ref:"addModal",attrs:{size:"modal-lg","close-button":!1}},[a("h5",{staticClass:"font-heading mb-3"},[t._v("Add Contact")]),t._v(" "),a("vue-form-validate",{on:{submit:t.store}},[a("div",{staticClass:"row mx-0 mb-2"},[a("div",{staticClass:"col-md-6 px-0"},[a("div",{staticClass:"pr-3"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.email,expression:"newContact.email"}],staticClass:"form-control",attrs:{type:"email","data-required":""},domProps:{value:t.newContact.email},on:{input:function(e){e.target.composing||t.$set(t.newContact,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row form-group"},[a("div",{staticClass:"col"},[a("label",{staticClass:"form-label"},[t._v("First Name (Optional)")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.first_name,expression:"newContact.first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newContact.first_name},on:{input:function(e){e.target.composing||t.$set(t.newContact,"first_name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"form-label"},[t._v("Last Name (Optional)")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.last_name,expression:"newContact.last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newContact.last_name},on:{input:function(e){e.target.composing||t.$set(t.newContact,"last_name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("strong",{staticClass:"d-block mb-2 font-weight-bold"},[t._v("Available services")]),t._v(" "),t._l(t.services,(function(e){return a("div",{key:e.id,staticClass:"d-flex align-items-center mb-2 rounded p-3 bg-light"},[a("div",[a("h6",{staticClass:"font-heading mb-0"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"ml-auto"},[a("toggle-switch",{attrs:{"active-class":"bg-primary",value:!t.newContact.blacklisted_services.find((function(t){return t==e.id}))},on:{input:function(a){return t.toggleServiceBlacklist(e)}}})],1)])}))],2)])]),t._v(" "),a("div",{staticClass:"col-md-6 border-left border-gray-200 px-0"},[a("div",{staticClass:"pl-3"},[a("div",{staticClass:"form-group"},[a("strong",{staticClass:"d-block mb-2"},[t._v("Invitation Message (Optional)")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newContact.invite_message,expression:"newContact.invite_message"}],staticClass:"form-control resize-none mb-2",attrs:{cols:"10",placeholder:t.defaultEmailMessage},domProps:{value:t.newContact.invite_message},on:{input:function(e){e.target.composing||t.$set(t.newContact,"invite_message",e.target.value)}}}),t._v(" "),a("vue-checkbox",{attrs:{label:"Send invitation link to email"},model:{value:t.newContact.sendToEmail,callback:function(e){t.$set(t.newContact,"sendToEmail",e)},expression:"newContact.sendToEmail"}})],1),t._v(" "),(t.$root.auth.custom_fields||[]).length>0?a("div",{staticClass:"form-group"},[a("strong",{staticClass:"d-block mb-2"},[t._v("Fields (Optional)")]),t._v(" "),a("div",{staticClass:"form-row"},t._l(t.$root.auth.custom_fields,(function(e){return a("div",{key:e,staticClass:"col-6 mb-2"},[a("label",{staticClass:"form-label"},[t._v(t._s(e))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.custom_fields[e],expression:"newContact.custom_fields[field]"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newContact.custom_fields[e]},on:{input:function(a){a.target.composing||t.$set(t.newContact.custom_fields,e,a.target.value)}}})])})),0)]):t._e()])])]),t._v(" "),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"ml-auto btn btn-primary",attrs:{type:"submit"}},[t._v("Add")])])])],1),t._v(" "),a("modal",{ref:"resendModal",attrs:{"close-button":!1}},[t.selectedContact?[a("h5",{staticClass:"font-heading text-center"},[t._v("Resend Invitation")]),t._v(" "),a("p",{staticClass:"text-center mt-3"},[t._v("\n\t\t\t\tAre you sure to resend the invitation email to contact\n\t\t\t\t"),a("strong",[t._v(t._s(t.selectedContact.contact_user.full_name.trim()||t.selectedContact.contact_user.email))]),t._v("\n\t\t\t\t?\n\t\t\t\t"),a("br")]),t._v(" "),a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-light shadow-none text-body",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),a("vue-button",{attrs:{button_class:"btn btn-primary ml-auto",loading:t.resendLoading,type:"button"},on:{click:function(e){return t.resendEmail(t.selectedContact)}}},[t._v("Resend Invitation")])],1)]:t._e()],2),t._v(" "),a("modal",{ref:"deleteModal",attrs:{"close-button":!1}},[t.selectedContact?[a("h5",{staticClass:"font-heading text-center"},[t._v("Delete Contact")]),t._v(" "),a("p",{staticClass:"text-center mt-3"},[t._v("\n\t\t\t\tAre you sure to delete contact\n\t\t\t\t"),a("strong",[t._v(t._s(t.selectedContact.contact_user.full_name.trim()||t.selectedContact.contact_user.email))]),t._v("\n\t\t\t\t?\n\t\t\t\t"),a("br"),t._v(" "),a("span",{staticClass:"text-danger"},[t._v("This action cannot be undone")])]),t._v(" "),a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-light shadow-none text-body",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn btn-danger ml-auto",attrs:{type:"button"},on:{click:function(e){t.deleteContact(t.selectedContact),t.$refs.deleteModal.hide()}}},[t._v("\n\t\t\t\t\tDelete\n\t\t\t\t")])])]:t._e()],2)],1):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Status")]),this._v(" "),e("th",[this._v("Date Added")]),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"border-bottom py-3 px-3"},[e("strong",{staticClass:"d-block my-2"},[this._v("Manage Contact")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"border-bottom py-3 px-3"},[e("strong",{staticClass:"d-block my-2"},[this._v("Manage Fields")])])}],!1,null,"d30322ee",null);e.default=M.exports},i93w:function(t,e,a){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}()},ou3K:function(t,e,a){(e=a("JPst")(!1)).push([t.i,".info[data-v-d30322ee]{transition:all .1s ease-in-out;width:350px;margin-right:-350px}.info.open[data-v-d30322ee]{margin-right:0}.user-profile-image-sm[data-v-d30322ee]{width:40px;height:40px}.user-profile-image-sm span[data-v-d30322ee]{font-size:13px}.contact.active[data-v-d30322ee]{box-shadow:0 0 0 .1rem #5a5adf}.w-35[data-v-d30322ee]{width:35% !important}.w-15[data-v-d30322ee]{width:15% !important}.custom-field .edit-custom-field[data-v-d30322ee]{opacity:0;transition:all .1s ease-in-out}.custom-field .edit-custom-field[aria-expanded=true][data-v-d30322ee]{opacity:1}.custom-field:hover .edit-custom-field[data-v-d30322ee]{opacity:1}.badge-icon svg[data-v-d30322ee]{transform:scale(1.3);margin-right:2px}.badge-icon.text-primary svg[data-v-d30322ee]{fill:#5a5adf}.badge-icon.text-warning svg[data-v-d30322ee]{fill:#ffc107}.btn-close[data-v-d30322ee]{top:10px;right:10px}",""]),t.exports=e},s3Wo:function(t,e,a){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}}}()}}]);