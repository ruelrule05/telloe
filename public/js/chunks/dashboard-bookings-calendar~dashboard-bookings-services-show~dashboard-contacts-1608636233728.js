(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{NalG:function(t,e,i){"use strict";var a={name:"pencil"},s=i("KHd+"),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15.5,6.20710678 L4,17.7071068 L4,20 L6.29289322,20 L17.7928932,8.5 L15.5,6.20710678 Z M16.2071068,5.5 L18.5,7.79289322 L19.7928932,6.5 L17.5,4.20710678 L16.2071068,5.5 L16.2071068,5.5 Z M3,20.5 L3,17.5 C3,17.3673918 3.05267842,17.2402148 3.14644661,17.1464466 L17.1464466,3.14644661 C17.3417088,2.95118446 17.6582912,2.95118446 17.8535534,3.14644661 L20.8535534,6.14644661 C21.0488155,6.34170876 21.0488155,6.65829124 20.8535534,6.85355339 L6.85355339,20.8535534 C6.7597852,20.9473216 6.63260824,21 6.5,21 L3.5,21 C3.22385763,21 3,20.7761424 3,20.5 Z"}})])}),[],!1,null,null,null);e.a=o.exports},RwXX:function(t,e,i){"use strict";var a=i("o0o1"),s=i.n(a),o=i("L2JU"),n=i("XPXJ"),r=i("/X8E"),c=i("vX9Q"),l=i("kdyA"),d=i("IGiv"),p=i("eeqt"),u=i("LzrZ"),m=i("vqo1"),v=i("Wgwc"),f=i.n(v),h=i("WIcW"),g=i.n(h),b=i("pl0M"),x=i.n(b),y=i("5cWj"),w=i("375c"),C=i("MCve"),k=i("UEn/"),_=i("KlRW"),D=i("jBWl"),S=i("xFjY"),L=i.n(S);function M(t,e,i,a,s,o,n){try{var r=t[o](n),c=r.value}catch(t){return void i(t)}r.done?e(c):Promise.resolve(c).then(a,s)}function T(t){return function(){var e=this,i=arguments;return new Promise((function(a,s){var o=t.apply(e,i);function n(t){M(o,a,s,n,r,"next",t)}function r(t){M(o,a,s,n,r,"throw",t)}n(void 0)}))}}function Y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(i),!0).forEach((function(e){O(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function O(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var j=i("s3Wo"),P=i("i93w");f.a.extend(j),f.a.extend(P),window.Vue.use(g.a),window.Vue.use(x.a,{position:"bottom-center",duration:3e3,className:"bg-primary rounded shadow-none"});var I=L.a.determine(),B={components:{ClockIcon:n.a,CloseIcon:r.a,ChevronLeftIcon:l.a,ChevronRightIcon:d.a,ArrowLeftIcon:p.a,MapMarkerIcon:u.a,CheckmarkIcon:m.a,ToggleSwitch:y.a,MoreIcon:w.a,VueFormValidate:C.a,VueSelect:k.a,CheckmarkCircleIcon:_.a,Modal:D.a},directives:{tooltip:c.a},props:{booking:{type:Object}},data:function(){return{selectedService:null,open:!0,opacity:1,startDate:null,selectedTimeslots:[],selectedTimeslot:null,authError:"",error:null,masks:{input:"MMM D, YYYY"},timeslotsLoading:!1,timeslots:[],dayjs:f.a,recurringFrequencies:[{text:"Week",value:"week"},{text:"Month",value:"month"}],days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],bookings:[],continueButton:!1,selectedCoachId:null,activeUserBgPosition:0,assignedServices:[],getAssignedServices:!0}},computed:{tabDates:function(){for(var t=[],e=7,i=f()(this.startDate);e>0;)t.push({name:i.format("ddd"),dayName:i.format("dddd"),date:i.toDate(),label:i.format("MMM DD"),format:i.format("YYYY-MM-DD")}),i=i.add(1,"day"),e--;return t},isPrevious:function(){var t=f()("".concat(this.booking.date," ").concat(this.booking.start)).toDate();return f()(new Date).isSameOrAfter(f()(t))}},watch:{booking:function(t){t&&(this.startDate=f()(t.date).toDate(),this.selectedService=t.service,this.selectedTimeslot={date:t.date,time:t.start,service_id:t.service_id})},selectedCoachId:function(){var t=this;this.$nextTick((function(){var e=document.querySelector("#edit .user-container.active");e&&(t.activeUserBgPosition=e.offsetTop)})),this.getServiceTimeslots()},startDate:function(){this.getServiceTimeslots()}},created:function(){this.timezone=I.name()},methods:z(z({},Object(o.b)({getService:"services/show",updateBooking:"bookings/update"})),{},{confirmUpdateBooking:function(){var t=this;return T(s.a.mark((function e(){var i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.booking).date=t.selectedTimeslot.date,i.start=t.selectedTimeslot.time,e.next=5,t.$refs.bookingModal.show();case 5:return e.next=7,t.updateBooking(i);case 7:a=e.sent,setTimeout(T(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.bookingModal.hide();case 2:t.hide(),t.$emit("update",a);case 4:case"end":return e.stop()}}),e)}))),150);case 9:case"end":return e.stop()}}),e)})))()},setSelectedService:function(t){this.selectedCoachId=t.coach.id,this.selectedService=t},submit:function(){},summary:function(){},previousWeek:function(){var t=f()(this.startDate).subtract(7,"day");f()(t.format("YYYY-MM-DD")).isSameOrAfter(f()(f()().format("YYYY-MM-DD")))?this.startDate=t.toDate():f()(f()(this.startDate).format("YYYY-MM-DD")).isSame(f()(f()().format("YYYY-MM-DD")))||(this.startDate=f()().toDate())},nextWeek:function(){this.startDate=f()(this.startDate).add(7,"day").toDate()},timeslotClass:function(t,e){var i=[],a=!1;return e.format==this.selectedTimeslot.date&&(this.selectedTimeslot.time!=t.time&&t.time!=this.booking.start||this.selectedTimeslot.service_id!=this.selectedService.id||(a=!0),t.time==this.booking.start&&this.selectedTimeslot.service_id==this.selectedService.id&&(t.is_available=!0)),t.is_available||a?i.push.apply(i,["bg-primary","text-white"]):t.is_available||a||i.push.apply(i,["bg-gray-400","disabled"]),this.isPrevious?i.push.apply(i,["disabled"]):t.is_available&&i.push.apply(i,["cursor-pointer"]),this.selectedTimeslot.service_id==this.selectedService.id&&e.format==this.selectedTimeslot.date&&this.selectedTimeslot.time==t.time&&i.push.apply(i,["selected"]),i.join(" ")},setSelectedDateAndTimeslot:function(t,e){!this.isPrevious&&e.is_available&&(e.date=t.format,e.service_id=this.selectedService.id,this.selectedTimeslot=e),this.continueButton=e.date!=this.booking.date||e.time!=this.booking.start},getTimeZoneOffset:function(t,e){var i={timeZone:e,calendar:"iso8601",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},a=new Intl.DateTimeFormat(void 0,i).formatToParts(t),s=new Map(a.map((function(t){return[t.type,t.value]}))),o=s.get("year"),n=s.get("month"),r=s.get("day"),c=s.get("hour"),l=s.get("minute"),d=s.get("second"),p=t.getMilliseconds().toString().padStart(3,"0");"24"==c&&(c="00");var u="".concat(o,"-").concat(n,"-").concat(r,"T").concat(c,":").concat(l,":").concat(d,".").concat(p);return-(new Date(u+"Z")-t)/60/1e3},timezoneTime:function(t){var e,i=this.selectedService.coach.timezone;if(i!=this.timezone){var a=this.getTimeZoneOffset(new Date,i),s=this.getTimeZoneOffset(new Date,this.timezone),o="".concat(f()(this.startDate).format("YYYY-MM-DD")," ").concat(t);e=f()(o).add(a-s,"minute")}else e=f()("".concat(f()(this.startDate).format("YYYY-MM-DD")," ").concat(t));return e.format("hh:mmA")},timezoneTooltip:function(t,e){return'\n\t\t\t\t<div class="text-left py-1 line-height-base">\n\t\t\t\t\t<div class="mb-2"><div>'.concat(t,"</div><div><strong>").concat(e.label,"</strong></div></div>\n\t\t\t\t\t<div>").concat(this.timezone,"</div><div><strong>").concat(this.timezoneTime(e.time),"</strong></div>\n\t\t\t\t</div>\n\t\t\t")},getServiceTimeslots:function(){var t=this;return T(s.a.mark((function e(){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.selectedService){e.next=8;break}return t.timeslotsLoading=!0,e.next=4,t.getService({service_id:t.selectedService.id,params:{date:f()(t.startDate).format("YYYY-MM-DD")}});case 4:i=e.sent,t.getAssignedServices&&(t.assignedServices=i.assigned_services,t.getAssignedServices=!1),t.timeslots=i.timeslots,t.timeslotsLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},reset:function(){this.startDate=f()().toDate(),this.selectedService=null,this.selectedTimeslots=[]},show:function(){var t=this;this.open=!0,setTimeout((function(){t.opacity=1}),50)},hide:function(){var t=this;this.opacity=0,this.$emit("hide"),setTimeout((function(){t.open=!1,t.reset()}),100)}})},Z=(i("rGBz"),i("KHd+")),W=Object(Z.a)(B,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.booking&&t.selectedService?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"position-fixed w-100 h-100 bg-gray p-4 overflow-auto",class:"opacity-"+t.opacity,attrs:{id:"edit"}},[i("div",{staticClass:"rounded p-4 w-100 h-10x0 bg-light position-relative"},[i("button",{staticClass:"btn btn-light shadow-none p-1 badge-pill btn-close",attrs:{type:"button"},on:{click:function(e){return t.hide()}}},[i("close-icon",{attrs:{width:"30",height:"30",transform:"scale(1.2)"}})],1),t._v(" "),i("div",{key:"service",staticClass:"container selected-service-container"},[i("div",{staticClass:"mb-5 text-left"},[i("h4",{staticClass:"mb-1 h3 font-heading"},[t._v(t._s(t.selectedService.name))]),t._v(" "),i("p",{staticClass:"mb-0 service-description"},[t._v(t._s(t.selectedService.description))]),t._v(" "),t.selectedService.address?i("p",{staticClass:"mb-0 d-flex align-items-center text-muted"},[i("map-marker-icon",{staticClass:"fill-primary",attrs:{height:"18",width:"18"}}),t._v("\n\t\t\t\t\t\t"+t._s(t.selectedService.address)+"\n\t\t\t\t\t")],1):t._e()]),t._v(" "),t.isPrevious?[i("div",{staticClass:"text-muted"},[t._v("This past booking cannot be edited anymore.")])]:[i("div",{staticClass:"d-flex align-items-center pt-3"},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"bg-white rounded shadow-sm d-flex align-items-center"},[i("button",{staticClass:"btn btn-sm btn-white p-1",attrs:{type:"button"},on:{click:function(e){return t.previousWeek()}}},[i("chevron-left-icon",{attrs:{height:"25",width:"25",transform:"scale(1.4)"}})],1),t._v(" "),i("v-date-picker",{attrs:{"min-date":new Date,popover:{placement:"bottom",visibility:"click"},masks:t.masks},on:{input:function(e){return t.getServiceTimeslots(!1)}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,s=e.inputEvents;return[i("button",t._g({staticClass:"btn btn-white px-1 shadow-none rounded-0",attrs:{type:"button"}},s),[t._v(t._s(a))])]}}],null,!1,83732554),model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),i("button",{staticClass:"btn btn-sm btn-white p-1",attrs:{type:"button"},on:{click:function(e){return t.nextWeek()}}},[i("chevron-right-icon",{attrs:{height:"25",width:"25",transform:"scale(1.4)"}})],1)],1)]),t._v(" "),t.continueButton?[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"Select at least one (1) timeslot",expression:"'Select at least one (1) timeslot'",modifiers:{left:!0}}],staticClass:"ml-auto",class:{"hide-tooltip":t.selectedTimeslot}},[i("button",{staticClass:"btn btn-primary shadow-sm",attrs:{type:"button"},on:{click:function(e){return t.confirmUpdateBooking()}}},[t._v("\n\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t")])])]:t._e()],2)],t._v(" "),i("div",{staticClass:"text-left"},[i("div",{staticClass:"pt-3 d-flex"},[i("div",{staticClass:"text-center position-relative"},[i("div",{staticClass:"active-user position-absolute w-100",style:{top:t.activeUserBgPosition+"px"}}),t._v(" "),i("div",{staticClass:"pl-2 py-2 pr-3 ml-1 cursor-pointer rounded position-relative user-container",class:{active:t.selectedCoachId==t.booking.service.coach.id},on:{click:function(e){t.selectedCoachId=t.booking.service.coach.id,t.selectedService=t.booking.service}}},[i("div",{staticClass:"d-flex align-items-center p-1"},[i("div",{staticClass:"profile-image profile-image-xs",style:{"background-image":"url("+this.$root.auth.profile_image+")"}},[this.$root.auth.profile_image?t._e():i("span",[t._v(t._s(this.$root.auth.initials))])]),t._v(" "),i("div",{staticClass:"flex-1 text-left pl-2"},[i("h6",{staticClass:"font-heading text-nowrap mb-0"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(this.$root.auth.full_name)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),i("small",{staticClass:"text-secondary"},[t._v(t._s(this.$root.auth.timezone))])])])]),t._v(" "),t._l(t.assignedServices,(function(e){return i("div",{key:e.id,staticClass:"pl-2 py-2 pr-3 mc-3 ml-1 rounded position-relative user-container cursor-pointer",class:{active:t.selectedCoachId==e.coach.id},on:{click:function(i){return t.setSelectedService(e)}}},[i("div",{staticClass:"d-flex align-items-center p-1"},[i("div",{staticClass:"profile-image profile-image-xs cursor-pointer",style:{"background-image":"url("+e.coach.profile_image+")"}},[e.coach.profile_image?t._e():i("span",[t._v(t._s(e.coach.initials))])]),t._v(" "),i("div",{staticClass:"flex-1 text-left pl-2"},[i("h6",{staticClass:"font-heading text-nowrap mb-0"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.coach.full_name)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),i("small",{staticClass:"text-secondary"},[t._v(t._s(e.coach.timezone))])])])])}))],2),t._v(" "),i("div",{staticClass:"pb-4 d-flex"},[i("div",{staticClass:"p-3 flex-grow-1 bg-white timeslots-wrapper shadow-sm position-relative rounded"},[i("table",{staticClass:"table table-sm table-borderless mb-0 table-layout-fixed",class:{"opacity-0":t.timeslotsLoading}},[i("thead",[i("tr",t._l(t.tabDates,(function(e,a){return i("th",{key:a,staticClass:"align-middle pb-2 pt-0 pl-2"},[i("strong",[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"text-gray"},[t._v(t._s(e.label))])])})),0)]),t._v(" "),i("tbody",{staticClass:"shadow-none bg-transparent text-center"},[i("tr",t._l(t.tabDates,(function(e,a){return i("td",{key:a,staticClass:"px-2 py-0 rounded-0 position-relative"},[t.selectedService&&t.timeslots&&(t.timeslots[e.dayName]||[]).length>0?t._l(t.timeslots[e.dayName],(function(s,o){return i("div",{key:o},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.timezoneTooltip(t.selectedService.coach.timezone,s),expression:"timezoneTooltip(selectedService.coach.timezone, timeslot)",modifiers:{top:!0}}],key:a,staticClass:"py-2 position-relative rounded my-2 timeslot-button",class:t.timeslotClass(s,e),on:{click:function(i){return t.setSelectedDateAndTimeslot(e,s)}}},[i("span",{staticClass:"selected-checkmark position-absolute"},[i("checkmark-icon",{staticClass:"fill-green",attrs:{height:"30",width:"30"}})],1),t._v(" "),i("span",{staticClass:"text-nowrap"},[t._v(t._s(t.timezoneTime(s.time)))])])])})):i("div",{staticClass:"position-absolute-center w-100 h-100 bg-light"})],2)})),0)])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.timeslotsLoading?i("div",{staticClass:"timeslots-loader rounded position-absolute-center w-100 h-100 bg-white"},[i("div",{staticClass:"position-absolute-center"},[i("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}})])]):t._e()])],1)])])])],2)])]),t._v(" "),i("modal",{ref:"bookingModal",attrs:{id:"bookingModal","close-button":!1}},[i("div",{staticClass:"text-center position-relative h-100 py-4"},[i("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}}),t._v(" "),i("h6",{staticClass:"h3 mt-4 mb-0 font-heading"},[t._v("Updating...")])])])],1):t._e()}),[],!1,null,"062d55fa",null);e.a=W.exports},grtR:function(t,e,i){"use strict";var a={name:"trash"},s=i("KHd+"),o=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,6 L19,18.5 C19,19.8807119 17.8807119,21 16.5,21 L7.5,21 C6.11928813,21 5,19.8807119 5,18.5 L5,6 L4.5,6 C4.22385763,6 4,5.77614237 4,5.5 C4,5.22385763 4.22385763,5 4.5,5 L9,5 L9,4.5 C9,3.67157288 9.67157288,3 10.5,3 L13.5,3 C14.3284271,3 15,3.67157288 15,4.5 L15,5 L19.5,5 C19.7761424,5 20,5.22385763 20,5.5 C20,5.77614237 19.7761424,6 19.5,6 L19,6 Z M6,6 L6,18.5 C6,19.3284271 6.67157288,20 7.5,20 L16.5,20 C17.3284271,20 18,19.3284271 18,18.5 L18,6 L6,6 Z M14,5 L14,4.5 C14,4.22385763 13.7761424,4 13.5,4 L10.5,4 C10.2238576,4 10,4.22385763 10,4.5 L10,5 L14,5 Z M14,9.5 C14,9.22385763 14.2238576,9 14.5,9 C14.7761424,9 15,9.22385763 15,9.5 L15,16.5 C15,16.7761424 14.7761424,17 14.5,17 C14.2238576,17 14,16.7761424 14,16.5 L14,9.5 Z M9,9.5 C9,9.22385763 9.22385763,9 9.5,9 C9.77614237,9 10,9.22385763 10,9.5 L10,16.5 C10,16.7761424 9.77614237,17 9.5,17 C9.22385763,17 9,16.7761424 9,16.5 L9,9.5 Z"}})])}),[],!1,null,null,null);e.a=o.exports},kJzc:function(t,e,i){var a=i("yXoU");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(a,s);a.locals&&(t.exports=a.locals)},rGBz:function(t,e,i){"use strict";i("kJzc")},yXoU:function(t,e,i){(e=i("JPst")(!1)).push([t.i,'#edit[data-v-062d55fa]{top:0;left:0;z-index:1040;opacity:1;transition:all .1s ease-in-out}.user-profile-image[data-v-062d55fa]{height:40px;width:40px}.user-profile-image span[data-v-062d55fa]{font-size:16px}.timeslot-button[data-v-062d55fa]{-moz-user-select:none;-webkit-user-select:none;user-select:none}.timeslot-button .selected-checkmark[data-v-062d55fa]{right:-2px;top:50%;transform:translateY(-50%);opacity:0}.timeslot-button.disabled .text-nowrap[data-v-062d55fa]{opacity:.5}.timeslot-button.selected[data-v-062d55fa]{background-color:#ffc107 !important}.timeslot-button.selected .selected-checkmark[data-v-062d55fa]{opacity:1}.badge-day[data-v-062d55fa]{width:25px;height:25px}.badge-day span[data-v-062d55fa]{position:absolute;top:49%;left:50%;transform:translate(-50%, -50%)}#bookingModal .disabled[data-v-062d55fa]{opacity:0 !important;pointer-events:none !important}.table-layout-fixed[data-v-062d55fa]{table-layout:fixed !important}.hide-tooltip .tooltip[data-v-062d55fa]{display:none !important;opacity:0 !important;visibility:hidden !important}.user-container[data-v-062d55fa]{z-index:2}.active-user[data-v-062d55fa]{transition:all .1s ease-in-out;border-top-left-radius:.5rem;border-bottom-left-radius:.5rem;top:72px;left:0;height:70px;background-color:#fff;box-shadow:0 1px 2px rgba(92,101,112,.2);z-index:1}.active-user[data-v-062d55fa]:after{content:"";height:100%;width:5px;background-color:#fff;top:0;right:-5px;position:absolute}.profile-image[data-v-062d55fa]{width:80px;height:80px;border-radius:50%;background-size:cover;background-size:no-repeat;background-position:center;background-color:#ced4da !important;position:relative}.profile-image span[data-v-062d55fa]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#adb5bd;font-size:24px}.profile-image.profile-image-md[data-v-062d55fa]{width:80px;height:80px}.profile-image.profile-image-md span[data-v-062d55fa]{font-size:24px}.profile-image.profile-image-sm[data-v-062d55fa]{width:60px;height:60px}.profile-image.profile-image-sm span[data-v-062d55fa]{font-size:20px}.profile-image.profile-image-xs[data-v-062d55fa]{width:45px;height:45px}.profile-image.profile-image-xs span[data-v-062d55fa]{font-size:16px}.profile-image.profile-image-xxs[data-v-062d55fa]{margin-right:-7px;border:solid 2px #fff;width:32px;height:32px}.profile-image.profile-image-xxs span[data-v-062d55fa]{font-size:10px}',""]),t.exports=e}}]);