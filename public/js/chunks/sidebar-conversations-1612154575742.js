(self.webpackChunk=self.webpackChunk||[]).push([[156],{9641:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const s={props:{value:{type:Boolean,default:!1},activeClass:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{width:100,state:!1,pressed:0,position:0}},mounted:function(){this.toggle(this.value)},computed:{style:function(){return{transform:"translateX(".concat(this.pos_percentage,")")}},pos_percentage:function(){return"".concat(this.position/this.width*100,"%")},state_class:function(){if(this.state)return this.activeClass+" active"}},watch:{value:function(t){this.toggle(t)},position:function(){this.state=this.position>=50}},methods:{onClick:function(){this.toggle(!this.state),this.emit()},toggle:function(t){this.state=t,this.position=t?100:0},dragging:function(t){var e=(t.clientX-this.$el.offsetLeft)/this.width*100;this.position=e<=0?0:e>=100?100:e},resolvePosition:function(){this.position=this.state?100:0},emit:function(){this.$emit("input",this.state)}}}},3207:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const s={name:"more-h"}},4989:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(3645),r=n.n(s)()((function(t){return t[1]}));r.push([t.id,".toggle[data-v-22734e3b]{cursor:pointer;width:40px;height:20px;background:#dee2e6;border-radius:200px;transition:background .6s}.toggle[disabled][data-v-22734e3b]{opacity:.5;pointer-events:none!important}.toggle .draggable[data-v-22734e3b]{pointer-events:none;width:20px;height:20px;background:#fff;border-radius:100%;box-shadow:0 0 5px rgba(0,0,0,.25);transform:translateX(0);transition:transform .05s ease-in-out}.toggle.active[data-v-22734e3b]{background:#5a5adf;transition:background .6s}",""]);const o=r},3390:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(3645),r=n.n(s)()((function(t){return t[1]}));r.push([t.id,".conversation-list[data-v-3c811a10]{width:350px}.conversations-header[data-v-3c811a10]{padding-top:12px}.str-limit[data-v-3c811a10]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.conversation-oncall[data-v-3c811a10]{right:0;top:50%;transform:translateY(-50%);z-index:20}.conversation-oncall[data-v-3c811a10],.conversation-preview[data-v-3c811a10],.conversation-preview .last-message-time[data-v-3c811a10]{transition:all .1s ease-in-out}.conversation-preview .conversation-dropdown[data-v-3c811a10]{transition:all .1s ease-in-out;right:0;top:50%;transform:translateY(-50%);z-index:10}.conversation-preview.active[data-v-3c811a10]{background-color:rgba(233,236,239,.5)!important}.conversation-preview[data-v-3c811a10]:hover{background-color:#f8f9fa}.conversation-preview:hover .conversation-dropdown[data-v-3c811a10]{opacity:1!important}.conversation-preview:hover .last-message-time[data-v-3c811a10]{opacity:0}.conversation-message-preview[data-v-3c811a10]{font-size:13px}.member-result[data-v-3c811a10]{transition:all .1s ease-in-out}.member-result.active[data-v-3c811a10]{background-color:#5a5adf!important}.member-result.active *[data-v-3c811a10]{color:#fff!important}.member-result[data-v-3c811a10]:hover{background-color:#e9ecef}.member-result.disabled[data-v-3c811a10]{pointer-events:none}.members-search-container[data-v-3c811a10]{min-height:230px;max-height:230px}.user-profile-image-md[data-v-3c811a10]{width:35px;height:35px}.user-profile-image-md>span[data-v-3c811a10]{font-size:13px}.conversation-members .user-profile-image-xs[data-v-3c811a10],.user-profile-image-sm[data-v-3c811a10]{width:22px;height:22px}.conversation-members .user-profile-image-xs>span[data-v-3c811a10]{font-size:8px}.conversation-members .conversation-members-container:nth-child(2):nth-last-child(2)~.conversation-members-container .user-profile-image-xs[data-v-3c811a10]{margin-top:-3px}.conversation-members .conversation-members-more[data-v-3c811a10]{background-color:hsla(0,0%,100%,.5)!important;font-size:12px!important;letter-spacing:-.7px;color:#000;z-index:10}.conversation-members .conversation-members-more span[data-v-3c811a10]{margin-left:-1px}.new-conversation-member .btn[data-v-3c811a10]{top:-2px;right:-2px}.badge-new-message[data-v-3c811a10]{top:45%;right:8px;transform:translateY(-50%);width:7px;height:7px;border-radius:50%;background-color:#5a5adf}",""]);const o=r},9011:(t,e,n)=>{"use strict";var s=n(3379),r=n.n(s),o=n(4989),a={insert:"head",singleton:!1};r()(o.Z,a),o.Z.locals},2983:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(8306),r=n(9648);n(5343);const o=(0,n(1900).Z)(r.Z,s.s,s.x,!1,null,"22734e3b",null).exports},2456:(t,e,n)=>{"use strict";n.d(e,{Z:()=>U});var s=n(7757),r=n.n(s),o=n(6564),a=n(8365),i=n(3701),c=n(2983);const l={name:"archive"};var u=n(1900);const d=(0,u.Z)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M3,4.5 L3,6.5 C3,6.77614237 3.22385763,7 3.5,7 L20.5,7 C20.7761424,7 21,6.77614237 21,6.5 L21,4.5 C21,4.22385763 20.7761424,4 20.5,4 L3.5,4 C3.22385763,4 3,4.22385763 3,4.5 Z M21,7.91464715 L21,18.5 C21,19.8807119 19.8807119,21 18.5,21 L5.5,21 C4.11928813,21 3,19.8807119 3,18.5 L3,7.91464715 C2.41740381,7.70872894 2,7.15310941 2,6.5 L2,4.5 C2,3.67157288 2.67157288,3 3.5,3 L20.5,3 C21.3284271,3 22,3.67157288 22,4.5 L22,6.5 C22,7.15310941 21.5825962,7.70872894 21,7.91464715 L21,7.91464715 Z M20,8 L4,8 L4,18.5 C4,19.3284271 4.67157288,20 5.5,20 L18.5,20 C19.3284271,20 20,19.3284271 20,18.5 L20,8 Z M8,11.5 C8,10.6715729 8.67157288,10 9.5,10 L14.5,10 C15.3284271,10 16,10.6715729 16,11.5 C16,12.3284271 15.3284271,13 14.5,13 L9.5,13 C8.67157288,13 8,12.3284271 8,11.5 Z M9,11.5 C9,11.7761424 9.22385763,12 9.5,12 L14.5,12 C14.7761424,12 15,11.7761424 15,11.5 C15,11.2238576 14.7761424,11 14.5,11 L9.5,11 C9.22385763,11 9,11.2238576 9,11.5 Z"}})])}),[],!1,null,null,null).exports;var v=n(7334),m=n(7112),h=n(1620);const p={name:"search"};const C=(0,u.Z)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M16.9994165,16.2923098 L20.8535534,20.1464466 C21.0488155,20.3417088 21.0488155,20.6582912 20.8535534,20.8535534 C20.6582912,21.0488155 20.3417088,21.0488155 20.1464466,20.8535534 L16.2923098,16.9994165 C14.8819612,18.2444908 13.0292099,19 11,19 C6.581722,19 3,15.418278 3,11 C3,6.581722 6.581722,3 11,3 C15.418278,3 19,6.581722 19,11 C19,13.0292099 18.2444908,14.8819612 16.9994165,16.2923098 Z M11,18 C14.8659932,18 18,14.8659932 18,11 C18,7.13400675 14.8659932,4 11,4 C7.13400675,4 4,7.13400675 4,11 C4,14.8659932 7.13400675,18 11,18 Z"}})])}),[],!1,null,null,null).exports;var f=n(9591);const g={name:"colored-icon"};const b=(0,u.Z)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",version:"1.0",viewBox:"0 0 48 48"}},[n("path",{attrs:{fill:"#5D21D2",d:"M8,12h22c2.2,0,4,1.8,4,4v16c0,2.2-1.8,4-4,4H8c-2.2,0-4-1.8-4-4V16C4,13.8,5.8,12,8,12z"}}),t._v(" "),n("path",{attrs:{fill:"#3f1594",d:"M44 35L34 29 34 19 44 13z"}})])}),[],!1,null,null,null).exports;var w=n(1662),_=n(7180),x=n(6),L=n(6394),y=n(5428),Z=n(6305);const M={name:"volume-max"};const k=(0,u.Z)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentColor","fill-rule":"nonzero",d:"M12 6L10.809017 6 10.2888544 7.04032522C9.38191227 8.85420946 7.52798422 10 5.5 10L5 10C3.8954305 10 3 10.8954305 3 12 3 13.1045695 3.8954305 14 5 14L5.5 14C7.52798422 14 9.38191227 15.1457905 10.2888544 16.9596748L10.809017 18 12 18 12 6zM13 5.5L13 18.5C13 18.7761424 12.7761424 19 12.5 19L10.5 19C10.310614 19 10.1374824 18.8929988 10.0527864 18.7236068L9.39442719 17.4068884C8.65687709 15.9317882 7.14921216 15 5.5 15L5 15C3.34314575 15 2 13.6568542 2 12 2 10.3431458 3.34314575 9 5 9L5.5 9C7.14921216 9 8.65687709 8.06821183 9.39442719 6.59311163L10.0527864 5.2763932C10.1374824 5.10700119 10.310614 5 10.5 5L12.5 5C12.7761424 5 13 5.22385763 13 5.5zM14.1429857 9.8500583C13.9496539 9.65288477 13.9527682 9.3363176 14.1499417 9.14298574 14.3471152 8.94965387 14.6636824 8.95276816 14.8570143 9.1499417 16.409204 10.7329748 16.409204 13.2670252 14.8570143 14.8500583 14.6636824 15.0472318 14.3471152 15.0503461 14.1499417 14.8570143 13.9527682 14.6636824 13.9496539 14.3471152 14.1429857 14.1499417 15.3138802 12.9557806 15.3138802 11.0442194 14.1429857 9.8500583z"}}),t._v(" "),n("path",{attrs:{fill:"currentColor","fill-rule":"nonzero",d:"M16.1652488,7.87140492 C15.9601275,7.68652692 15.9437171,7.37037004 16.1285951,7.16524877 C16.3134731,6.9601275 16.62963,6.94371708 16.8347512,7.12859508 C19.5251539,9.55348383 19.7403954,13.7002468 17.3155067,16.3906495 C17.1636751,16.5591059 17.0032077,16.7195733 16.8347512,16.8714049 C16.62963,17.0562829 16.3134731,17.0398725 16.1285951,16.8347512 C15.9437171,16.62963 15.9601275,16.3134731 16.1652488,16.1285951 C16.3080183,15.9999153 16.4440171,15.8639166 16.5726968,15.721147 C18.6278296,13.4409869 18.4454089,9.92653766 16.1652488,7.87140492 Z"}}),t._v(" "),n("path",{attrs:{fill:"currentColor","fill-rule":"nonzero",d:"M18.1757046,5.88056863 C17.9655223,5.70146521 17.940328,5.38588683 18.1194314,5.17570458 C18.2985348,4.96552233 18.6141132,4.94032796 18.8242954,5.11943137 C22.6243285,8.35756831 23.0798354,14.0631325 19.8416985,17.8631656 C19.5301348,18.2287932 19.1899231,18.5690049 18.8242954,18.8805686 C18.6141132,19.059672 18.2985348,19.0344777 18.1194314,18.8242954 C17.940328,18.6141132 17.9655223,18.2985348 18.1757046,18.1194314 C18.500886,17.8423332 18.8034631,17.5397562 19.0805612,17.2145747 C21.9604913,13.8349061 21.5553732,8.76049874 18.1757046,5.88056863 Z"}})])}),[],!1,null,null,null).exports;const $={name:"volume-mid"};const E=(0,u.Z)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{fill:"currentColor",d:"M18,11.2928932 L20.1464466,9.14644661 C20.3417088,8.95118446 20.6582912,8.95118446 20.8535534,9.14644661 C21.0488155,9.34170876 21.0488155,9.65829124 20.8535534,9.85355339 L18.7071068,12 L20.8535534,14.1464466 C21.0488155,14.3417088 21.0488155,14.6582912 20.8535534,14.8535534 C20.6582912,15.0488155 20.3417088,15.0488155 20.1464466,14.8535534 L18,12.7071068 L15.8535534,14.8535534 C15.6582912,15.0488155 15.3417088,15.0488155 15.1464466,14.8535534 C14.9511845,14.6582912 14.9511845,14.3417088 15.1464466,14.1464466 L17.2928932,12 L15.1464466,9.85355339 C14.9511845,9.65829124 14.9511845,9.34170876 15.1464466,9.14644661 C15.3417088,8.95118446 15.6582912,8.95118446 15.8535534,9.14644661 L18,11.2928932 Z M13,5.5 L13,18.5 C13,18.7761424 12.7761424,19 12.5,19 L10.5,19 C10.310614,19 10.1374824,18.8929988 10.0527864,18.7236068 L9.39442719,17.4068884 C8.65687709,15.9317882 7.14921216,15 5.5,15 L5,15 C3.34314575,15 2,13.6568542 2,12 C2,10.3431458 3.34314575,9 5,9 L5.5,9 C7.14921216,9 8.65687709,8.06821183 9.39442719,6.59311163 L10.0527864,5.2763932 C10.1374824,5.10700119 10.310614,5 10.5,5 L12.5,5 C12.7761424,5 13,5.22385763 13,5.5 Z M12,6 L10.809017,6 L10.2888544,7.04032522 C9.38191227,8.85420946 7.52798422,10 5.5,10 L5,10 C3.8954305,10 3,10.8954305 3,12 C3,13.1045695 3.8954305,14 5,14 L5.5,14 C7.52798422,14 9.38191227,15.1457905 10.2888544,16.9596748 L10.809017,18 L12,18 L12,6 Z"}})])}),[],!1,null,null,null).exports;const I={name:"bell-slash"};const z=(0,u.Z)(I,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M14.8292095,19 C14.4116155,20.1832024 13.2866108,21 12,21 C10.7105968,21 9.58711809,20.1801692 9.17072899,19 L8.5,19 C8.22385763,19 8,18.7761424 8,18.5 C8,18.2238576 8.22385763,18 8.5,18 L16.422476,18 C16.6323536,18 16.8398952,17.9559567 17.0316837,17.8707173 C17.78871,17.5342612 18.1296495,16.6478186 17.7931934,15.8907923 L17.0430942,14.2030692 L17,14 L17,11 C17,10.5422771 16.9386215,10.093202 16.8188406,9.66107585 C16.7450781,9.3949674 16.9010053,9.11944757 17.1671138,9.04568509 C17.4332223,8.97192261 17.7087421,9.12784983 17.7825046,9.39395828 C17.9263416,9.9128703 18,10.4517911 18,11 L18,13.8938928 L18.7070049,15.4846538 C19.2677651,16.7463643 18.6995327,18.2237687 17.4378222,18.7845289 C17.1181747,18.9265944 16.7722719,19 16.422476,19 L14.8292095,19 L14.8292095,19 Z M13.7328929,19 L10.267086,19 C10.6157944,19.6033146 11.26791,20 12,20 C12.730784,20 13.3835919,19.6045386 13.7328929,19 L13.7328929,19 Z M10,5.34141142 L10,5 C10,3.8954305 10.8954305,3 12,3 C13.1045695,3 14,3.8954305 14,5 L14,5.34152584 C14.2469554,5.42881861 14.4880765,5.53238203 14.7220467,5.6516798 C14.9680556,5.77711591 15.0657992,6.07823161 14.9403631,6.32424054 C14.814927,6.57024947 14.5138113,6.66799305 14.2678024,6.54255694 C13.5716136,6.18758117 12.7997838,6 12,6 C9.23857625,6 7,8.23857625 7,11 L7,14 L6.95690577,14.2030692 L6.28557404,15.7135656 C6.173422,15.9659077 5.87794112,16.0795542 5.62559903,15.9674022 C5.37325694,15.8552501 5.25961045,15.5597693 5.37176249,15.3074272 L6,13.8938928 L6,11 C6,8.38756235 7.66961525,6.16508423 10,5.34141142 L10,5.34141142 Z M13,5.08303578 L13,5 C13,4.44771525 12.5522847,4 12,4 C11.4477153,4 11,4.44771525 11,5 L11,5.08295844 C11.3252085,5.0283988 11.6592878,5 12,5 C12.3380973,5 12.6723092,5.02803647 13,5.08303578 L13,5.08303578 Z M20.1464466,3.14644661 C20.3417088,2.95118446 20.6582912,2.95118446 20.8535534,3.14644661 C21.0488155,3.34170876 21.0488155,3.65829124 20.8535534,3.85355339 L3.85355339,20.8535534 C3.65829124,21.0488155 3.34170876,21.0488155 3.14644661,20.8535534 C2.95118446,20.6582912 2.95118446,20.3417088 3.14644661,20.1464466 L20.1464466,3.14644661 Z"}})])}),[],!1,null,null,null).exports;const O={name:"edit-square"};const P=(0,u.Z)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20,11.5 C20,11.2238576 20.2238576,11 20.5,11 C20.7761424,11 21,11.2238576 21,11.5 L21,18.5000057 C21,19.8807175 19.8807119,21.0000057 18.5,21.0000057 L5.48612181,21.0000057 C4.10540994,21.0000057 2.98612181,19.8807175 2.98612181,18.5000057 L2.98612181,5.5 C2.98612181,4.11928813 4.10540994,3 5.48612181,3 L12.5,3 C12.7761424,3 13,3.22385763 13,3.5 C13,3.77614237 12.7761424,4 12.5,4 L5.48612181,4 C4.65769469,4 3.98612181,4.67157288 3.98612181,5.5 L3.98612181,18.5000057 C3.98612181,19.3284328 4.65769469,20.0000057 5.48612181,20.0000057 L18.5,20.0000057 C19.3284271,20.0000057 20,19.3284328 20,18.5000057 L20,11.5 Z M18.8535534,3.14644661 L20.8535534,5.14644661 C21.0488155,5.34170876 21.0488155,5.65829124 20.8535534,5.85355339 L12.8535534,13.8535534 C12.7597852,13.9473216 12.6326082,14 12.5,14 L10.5,14 C10.2238576,14 10,13.7761424 10,13.5 L10,11.5 C10,11.3673918 10.0526784,11.2402148 10.1464466,11.1464466 L18.1464466,3.14644661 C18.3417088,2.95118446 18.6582912,2.95118446 18.8535534,3.14644661 Z M18.5,4.20710678 L11,11.7071068 L11,13 L12.2928932,13 L19.7928932,5.5 L18.5,4.20710678 Z"}})])}),[],!1,null,null,null).exports;function S(t,e,n,s,r,o,a){try{var i=t[o](a),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(s,r)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(s,r){var o=t.apply(e,n);function a(t){S(o,s,r,a,i,"next",t)}function i(t){S(o,s,r,a,i,"throw",t)}a(void 0)}))}}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const D={components:{Modal:a.Z,VueFormValidate:i.Z,ToggleSwitch:c.Z,ArchiveIcon:d,MoreHIcon:v.Z,PlusIcon:m.Z,DownloadIcon:h.Z,SearchIcon:C,CloseIcon:f.Z,VideoIcon:b,UserCircleIcon:w.Z,PasswordIcon:_.Z,HeadphoneIcon:x.Z,LockIcon:L.Z,ListBulletIcon:y.Z,MoreIcon:Z.Z,VolumeMaxIcon:k,VolumeMinIcon:E,BellSlashIcon:z,EditSquareIcon:P},data:function(){return{conversationTab:"active",newConversation:{members:[]},userSearch:"",newContact:{custom_fields:{},blacklisted_services:[]},search:""}},computed:B(B({},(0,o.rn)({conversations:function(t){return t.conversations.index},ready:function(t){return t.conversations.ready},contacts:function(t){return t.contacts.index},members:function(t){return t.members.index},contactsReady:function(t){return t.contacts.ready},services:function(t){return t.services.index}})),{},{orderedConversations:function(){var t=Object.assign([],this.conversations);t.sort((function(t,e){return(t.last_message.timestamp||0)>(e.last_message.timestamp||0)?-1:1}));var e=this.search.trim().toLowerCase();return t.filter((function(t){if(e.length){var n=t.name||"";return n+=" ".concat(t.user.full_name," ").concat(t.user.email),t.members.forEach((function(t){n+=" ".concat(t.user.full_name," ").concat(t.user.email)})),n.toLowerCase().includes(e)}return!0}))},filteredUsers:function(){var t=[],e=this.userSearch.trim().toLowerCase();return this.users.forEach((function(n){(n.user.full_name.toLowerCase().includes(e)||n.user.email.toLowerCase().includes(e))&&t.push(n)})),t},defaultEmailMessage:function(){return"".concat(this.$root.auth.full_name," has invited you in ").concat(APP_NAME)},users:function(){var t=[];return this.contacts.forEach((function(e){e.is_pending||(t.find((function(t){return t.user.id==e.contact_user_id}))||t.push({type:"contact",user:e.contact_user}))})),this.members.forEach((function(e){e.is_pending||(t.find((function(t){return t.user.id==e.member_user_id}))||t.push({type:"member",user:e.member_user}))})),t}}),watch:{},created:function(){var t=this;this.$root.contentloading=!this.ready,this.getConversations().then((function(){!t.$route.params.id&&t.conversations.length>0&&"conversations"==t.$route.name&&t.setConversation(t.orderedConversations[0])})),this.getContacts({nopaginate:!0}),this.getMembers(),this.$root.appChannel.listenForWhisper("newConversation",(function(e){e.member_ids.find((function(e){return e==t.$root.auth.id}))&&(t.conversations.find((function(t){return t.id==e.conversation_id}))||t.getConversation(e.conversation_id))}))},mounted:function(){},methods:B(B({},(0,o.nv)({getConversations:"conversations/index",storeConversation:"conversations/store",updateConversation:"conversations/update",showConversation:"conversations/show",getContacts:"contacts/index",storeContact:"contacts/store",getServices:"services/index",getMembers:"members/index"})),{},{resetNewContact:function(){this.newContact={custom_fields:{},blacklisted_services:[]}},createContact:function(){var t=this;return j(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.newContact.email){e.next=6;break}return t.$refs.addContactModal.hide(),e.next=4,t.storeContact(t.newContact);case 4:(n=e.sent)&&(t.setConversation(n.conversation),t.$refs.newConversationModal.hide());case 6:case"end":return e.stop()}}),e)})))()},resetNewConversationForm:function(){this.newConversation.members=[],this.userSearch=""},getConversation:function(t){var e=this;return j(r().mark((function n(){var s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.showConversation({id:t});case 2:(s=e.conversations.find((function(e){return e.id==t})))&&e.setConversation(s);case 4:case"end":return n.stop()}}),n)})))()},addNewConversationMember:function(t){t.is_pending||this.newConversation.members.find((function(e){return e.user.id==t.user.id}))||this.newConversation.members.push(t)},createConversation:function(){var t=this;if(this.newConversation.members.length>0){var e=[];this.newConversation.members.forEach((function(t){e.push(t.user.id)})),this.storeConversation({members:e}).then((function(n){n.id!=t.$route.params.id&&t.setConversation(n),t.$root.appChannel.whisper("newConversation",{member_ids:e,conversation_id:n.id})})),this.$refs.newConversationModal.hide()}},searchMembers:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e?this.newConversation:this;n.searchingMembers||(n.searchingMembers=!0,setTimeout((function(){window.axios.get("/dashboard/contacts?search=".concat(t.target.value.trim())).then((function(t){n.groupMembersResults=t.data})),n.searchingMembers=!1}),500))},setConversation:function(t){t.id!=this.$route.params.id&&this.$router.replace("/dashboard/conversations/".concat(t.id))}})};var T=n(3379),V=n.n(T),q=n(3390),F={insert:"head",singleton:!1};V()(q.Z,F);q.Z.locals;const U=(0,u.Z)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white text-left border-right"},[n("div",{staticClass:"conversation-list d-flex flex-column h-100 position-relative"},[n("div",{staticClass:"conversations-header"},[n("div",{staticClass:"d-flex px-3 align-items-center mb-2"},[n("h5",{staticClass:"mb-0 font-heading"},[t._v("Messages")]),t._v(" "),"client"==t.$root.auth.role.role?n("div",{staticClass:"ml-auto"},[n("button",{staticClass:"btn btn-light badge-pill line-height-0 p-1",attrs:{"data-intro":t.$root.intros.conversations.steps[0],"data-step":"1",type:"button"},on:{click:function(e){return t.$refs.newConversationModal.show()}}},[n("edit-square-icon")],1),t._v(" "),n("button",{staticClass:"btn btn-light badge-pill line-height-0 p-1 ml-1",attrs:{"data-intro":t.$root.intros.conversations.steps[1],"data-step":"2",type:"button"},on:{click:function(e){t.$root.muted=!t.$root.muted}}},[t.$root.muted?n("volume-min-icon",{staticClass:"fill-gray-500"}):n("volume-max-icon")],1)]):t._e()]),t._v(" "),n("div",{staticClass:"d-flex align-items-center btn-tab mt-3 px-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control border shadow-none",attrs:{type:"text",placeholder:"Search conversations"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),t._v(" "),t.ready?n("div",{staticClass:"overflow-auto p-3 position-relative h-100"},[0==t.conversations.length?n("div",{staticClass:"position-absolute-center w-100 text-center text-muted"},[t._v("\n\t\t\t\tYou don't have any conversations yet.\n\t\t\t")]):t.orderedConversations.length>0?[t._l(t.orderedConversations,(function(e){return[n("div",{key:e.id,staticClass:"conversation-preview mb-1 position-relative rounded-lg",class:{active:e.id==t.$route.params.id}},[t.$root.callConversation&&t.$root.callConversation.id==e.id?n("div",{staticClass:"conversation-oncall position-absolute pr-3"},[n("video-icon",{attrs:{width:"24",height:"24"}})],1):n("div",{staticClass:"position-absolute conversation-dropdown dropdown opacity-0 pr-2"},[n("button",{staticClass:"btn btn-sm btn-light p-1 line-height-0",attrs:{type:"button","data-toggle":"dropdown","data-offset":"-130,0"}},[n("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),n("div",{staticClass:"dropdown-menu"},[e.archive?n("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(n){e.archive=!1,t.updateConversation(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\tMove to active\n\t\t\t\t\t\t\t\t")]):n("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(n){e.archive=!0,t.updateConversation(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\tMove to archives\n\t\t\t\t\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"p-2 cursor-pointer",on:{click:function(n){return t.setConversation(e)}}},[e.last_message.user_id==t.$root.auth.id||e.last_message.is_read?t._e():n("span",{staticClass:"position-absolute badge-new-message"},[t._v(" ")]),t._v(" "),n("div",{staticClass:"media align-items-center conversation-members"},[n("div",{staticClass:"user-profile-image position-relative",class:{"bg-light border border-gray-200 overflow-hidden":e.members.length>1},style:{backgroundImage:"url("+e.member.profile_image+")"}},[e.members.length<=1&&!e.member.profile_image?n("span",[t._v(t._s(e.member.initials))]):e.members.length>1?n("div",{staticClass:"position-absolute-center w-100 d-flex flex-wrap justify-content-center"},[t._l(e.members,(function(s,r){return[r<4?n("div",{key:s.id,staticClass:"w-50 position-relative conversation-members-container"},[n("div",{staticClass:"line-height-0 user-profile-image user-profile-image-xs overflow-hidden",style:{backgroundImage:"url("+s.user.profile_image+")"}},[s.user.profile_image?t._e():n("span",[t._v(t._s(s.user.initials))]),t._v(" "),3==r&&e.members.length>4?n("span",{staticClass:"line-height-0 conversation-members-more w-100 h-100"},[n("span",{staticClass:"position-absolute-center"},[t._v("+"+t._s(e.members.length-4))])]):t._e()])]):t._e()]}))],2):t._e(),t._v(" "),t.$root.isOnline(e.member.id)?n("i",{staticClass:"online-status bg-success"},[t._v(" ")]):t._e()]),t._v(" "),n("div",{staticClass:"media-body pl-3 overflow-hidden"},[n("div",{staticClass:"h6 mb-0 font-heading",class:{"font-weight-normal":e.last_message.is_read}},[t._v(t._s(e.member.full_name||e.name))]),t._v(" "),n("div",{staticClass:"d-flex align-items-center text-nowrap conversation-message-preview"},[n("div",{staticClass:"flex-grow-1 text-ellipsis",class:[e.last_message.is_read||e.last_message.user_id==t.$root.auth.id?"text-muted":"text-black font-weight-bold"],domProps:{innerHTML:t._s((e.last_message.prefix||"")+e.last_message.message)}}),t._v(" "),t.$root.callConversation&&t.$root.callConversation.id==e.id?t._e():n("span",{staticClass:"ml-auto text-muted last-message-time pl-2"},[t._v(t._s(e.last_message.created_diff))])])])])])])]}))]:n("div",{staticClass:"position-absolute-center text-muted"},[t._v("No conversations found.")])],2):t._e()]),t._v(" "),n("modal",{ref:"newConversationModal",attrs:{"close-button":!1,scrollable:!1},on:{hidden:t.resetNewConversationForm},scopedSlots:t._u([{key:"footer",fn:function(){return[n("div",{staticClass:"d-flex justify-content-between w-100"},[n("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button"},on:{click:function(e){return t.$refs.newConversationModal.hide()}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:0==t.newConversation.members.length},on:{click:function(e){return t.createConversation()}}},[t._v("Create")])])]},proxy:!0}])},[n("div",{staticClass:"d-flex modal-title align-items-center mb-3"},[n("h5",{staticClass:"font-heading mb-0"},[t._v("New Conversation")])]),t._v(" "),n("div",{ref:"addNewConversationMembersForm",staticClass:"h-100 overflow-hidden d-flex flex-column",attrs:{default:t.contacts}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userSearch,expression:"userSearch"}],staticClass:"form-control shadow-none border",attrs:{type:"text",placeholder:"Search contacts or members..."},domProps:{value:t.userSearch},on:{input:function(e){e.target.composing||(t.userSearch=e.target.value)}}}),t._v(" "),t.newConversation.members.length>0?n("div",{staticClass:"mt-1"},t._l(t.newConversation.members,(function(e,s){return n("div",{key:e.id,staticClass:"user-profile-image d-inline-block new-conversation-member mr-1",style:{backgroundImage:"url("+e.user.profile_image+")"}},[e.user.profile_image?t._e():n("span",[t._v(t._s(e.user.initials))]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-gray-200 badge-pill p-0 line-height-0 position-absolute",on:{click:function(e){return t.newConversation.members.splice(s,1)}}},[n("close-icon",{staticClass:"cursor-pointer",attrs:{height:"16",width:"16"}})],1)])})),0):t._e(),t._v(" "),n("div",{staticClass:"overflow-y-only mt-2 members-search-container position-relative"},[t.contactsReady?0==t.filteredUsers.length?n("div",{staticClass:"text-center text-muted position-absolute-center w-100"},[t._v("\n\t\t\t\t\tNo results found.\n\t\t\t\t")]):t.filteredUsers.length>0?n("div",t._l(t.filteredUsers,(function(e){return n("div",{key:e.user.id,staticClass:"media member-result align-items-center rounded mb-2 p-2 cursor-pointer",class:{active:t.newConversation.members.find((function(t){return t.user.id==e.user.id})),disabled:e.is_pending},on:{click:function(n){return t.addNewConversationMember(e)}}},[n("div",{staticClass:"user-profile-image user-profile-image-md align-self-center",style:{backgroundImage:"url("+e.user.profile_image+")"}},[e.user.profile_image?t._e():n("span",[t._v(t._s(e.user.initials))])]),t._v(" "),n("div",{staticClass:"media-body pl-2"},[n("div",{staticClass:"font-weight-bold font-heading mb-0 h6"},[t._v(t._s(e.user.full_name))]),t._v(" "),n("div",{staticClass:"small text-muted text-nowrap"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.user.email)+"\n\t\t\t\t\t\t\t\t"),e.is_pending?n("span",{staticClass:"text-warning"},[t._v("Pending")]):t._e()])])])})),0):t._e():n("div",{staticClass:"text-center position-absolute-center w-100"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary"})])])])])],1)}),[],!1,null,"3c811a10",null).exports},8486:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const s={components:{Index:n(2456).Z},created:function(){this.$route.query.tab&&(this.$root.detailsTab=this.$route.query.tab)}};const r=(0,n(1900).Z)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex h-100"},[e("index")],1)}),[],!1,null,null,null).exports},7334:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(2084),r=n(3695);const o=(0,n(1900).Z)(r.Z,s.s,s.x,!1,null,null,null).exports},6305:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const s={name:"more"};const r=(0,n(1900).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"3",height:"11",viewBox:"0 0 3 11"}},[n("g",[n("path",{attrs:{"fill-rule":"evenodd",d:"M1.34444874 0h.0888935c.74202145 0 1.34444873.60242728 1.34444873 1.34444874 0 .74202145-.60242728 1.34444873-1.34444873 1.34444873h-.0888935C.60242728 2.68889747 0 2.0864702 0 1.34444874 0 .60242728.60242728 0 1.34444874 0z"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M1.34444874 4.25333331h.0888935c.74202145 0 1.34444873.60242728 1.34444873 1.34444874 0 .74202145-.60242728 1.34444873-1.34444873 1.34444873h-.0888935C.60242728 6.94223078 0 6.3398035 0 5.59778205 0 4.85576059.60242728 4.2533333 1.34444874 4.2533333z"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M1.34444874 8.31112253h.0888935c.74202145 0 1.34444873.60242728 1.34444873 1.34444873 0 .74202146-.60242728 1.34444874-1.34444873 1.34444874h-.0888935C.60242728 11.00002 0 10.39759272 0 9.65557126c0-.74202145.60242728-1.34444873 1.34444874-1.34444873z"}})])])}),[],!1,null,null,null).exports},9648:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const s=n(9641).Z},3695:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const s=n(3207).Z},5343:(t,e,n)=>{"use strict";n(9011)},8306:(t,e,n)=>{"use strict";n.d(e,{s:()=>s,x:()=>r});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toggle",class:t.state_class,attrs:{disabled:t.disabled},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClick(e)}}},[n("div",{staticClass:"draggable",style:t.style})])},r=[]},2084:(t,e,n)=>{"use strict";n.d(e,{s:()=>s,x:()=>r});var s=function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M 6 10 A 2 2 0 0 0 4 12 A 2 2 0 0 0 6 14 A 2 2 0 0 0 8 12 A 2 2 0 0 0 6 10 z M 12 10 A 2 2 0 0 0 10 12 A 2 2 0 0 0 12 14 A 2 2 0 0 0 14 12 A 2 2 0 0 0 12 10 z M 18 10 A 2 2 0 0 0 16 12 A 2 2 0 0 0 18 14 A 2 2 0 0 0 20 12 A 2 2 0 0 0 18 10 z"}})])},r=[]}}]);