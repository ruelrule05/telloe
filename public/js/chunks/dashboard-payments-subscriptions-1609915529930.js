/*! For license information please see dashboard-payments-subscriptions-1609915529930.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+qMJ":function(t,e,n){"use strict";n.r(e);var i=n("L2JU"),s=n("jBWl"),a=n("MCve"),r=n("UEn/"),o=n("T1qZ"),c={name:"more-v"},l=n("KHd+"),u=Object(l.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M11.5,5 C11.2238576,5 11,5.22385763 11,5.5 L11,6.5 C11,6.77614237 11.2238576,7 11.5,7 L12.5,7 C12.7761424,7 13,6.77614237 13,6.5 L13,5.5 C13,5.22385763 12.7761424,5 12.5,5 L11.5,5 Z M11.5,4 L12.5,4 C13.3284271,4 14,4.67157288 14,5.5 L14,6.5 C14,7.32842712 13.3284271,8 12.5,8 L11.5,8 C10.6715729,8 10,7.32842712 10,6.5 L10,5.5 C10,4.67157288 10.6715729,4 11.5,4 Z M11.5,11 C11.2238576,11 11,11.2238576 11,11.5 L11,12.5 C11,12.7761424 11.2238576,13 11.5,13 L12.5,13 C12.7761424,13 13,12.7761424 13,12.5 L13,11.5 C13,11.2238576 12.7761424,11 12.5,11 L11.5,11 Z M11.5,10 L12.5,10 C13.3284271,10 14,10.6715729 14,11.5 L14,12.5 C14,13.3284271 13.3284271,14 12.5,14 L11.5,14 C10.6715729,14 10,13.3284271 10,12.5 L10,11.5 C10,10.6715729 10.6715729,10 11.5,10 Z M11.5,17 C11.2238576,17 11,17.2238576 11,17.5 L11,18.5 C11,18.7761424 11.2238576,19 11.5,19 L12.5,19 C12.7761424,19 13,18.7761424 13,18.5 L13,17.5 C13,17.2238576 12.7761424,17 12.5,17 L11.5,17 Z M11.5,16 L12.5,16 C13.3284271,16 14,16.6715729 14,17.5 L14,18.5 C14,19.3284271 13.3284271,20 12.5,20 L11.5,20 C10.6715729,20 10,19.3284271 10,18.5 L10,17.5 C10,16.6715729 10.6715729,16 11.5,16 Z"}})])}),[],!1,null,null,null).exports,d=n("cmxz"),p=n("ITrF"),m=n("q2Ol"),v=n("E73b"),h={name:"block"},f=Object(l.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M5.99936007,18.7077467 C7.59170608,20.1332071 9.69462788,21 12,21 C16.9705627,21 21,16.9705627 21,12 C21,9.69462788 20.1332071,7.59170608 18.7077467,5.99936007 L5.99936007,18.7077467 L5.99936007,18.7077467 Z M5.29225329,18.0006399 L18.0006399,5.29225329 C16.4082939,3.86679291 14.3053721,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,14.3053721 3.86679291,16.4082939 5.29225329,18.0006399 L5.29225329,18.0006399 Z M12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 C17.5228475,2 22,6.4771525 22,12 C22,17.5228475 17.5228475,22 12,22 Z"}})])}),[],!1,null,null,null).exports,g=n("grtR"),b=n("dRai"),_=n("/X8E"),C=n("Wgwc"),y=n.n(C),w=n("vX9Q"),S=n("XuX8"),x=n.n(S),L=n("uv9J"),k=n.n(L),M=n("WIcW"),P=n.n(M);function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}x.a.use(k.a),x.a.use(P.a);var $=n("ubkq"),D={components:{Modal:s.a,VueFormValidate:a.a,VueSelect:r.a,VueButton:o.a,MoreVIcon:u,PlusIcon:d.a,ShortcutIcon:p.a,ArrowDownIcon:m.a,TaskIcon:v.a,BlockIcon:f,TrashIcon:g.a,MoreIcon:b.a,CloseIcon:_.a},directives:{Tooltip:w.a},data:function(){return{newSubscriptionForm:{loading:!1,services:[],date:null,recurring_frequency:"week",duration:6,duration_frequency:"month"},selectedSubscription:null,openInfo:!1,recurringOptions:[{text:"Weekly",value:"week"},{text:"Monthly",value:"month"},{text:"Yearly",value:"year"}],paginate:["subscriptions"],subscriptionStatuses:[{text:"All",value:"all"},{text:"Trialing",value:"trialing"},{text:"Canceled",value:"canceled"},{text:"Draft",value:"draft"}],subscriptionStatus:"all",hasSubscriptions:!1,invoiceLoading:!1}},computed:O(O({},Object(i.d)({ready:function(t){return t.contacts.ready},contacts:function(t){return t.contacts.index},services:function(t){return t.services.index},pending_subscriptions:function(t){return t.pending_subscriptions.index}})),{},{subscriptionTotal:function(){var t=0;return this.newSubscriptionForm.services.forEach((function(e){t+=e.rate*e.frequency})),t.toFixed(2)},stripeCustomers:function(){var t=[];return this.contacts.forEach((function(e){e.is_pending||t.push({text:e.contact_user.full_name,value:e.id})})),t},servicesList:function(){var t=[];return this.services.forEach((function(e){if(e.is_available){var n=Object.assign({},e);n.frequency=1,n.frequency_interval="day",n.rate=e.default_rate,t.push({text:n.name,value:n})}})),t},subscriptions:function(){var t=this,e=[];return this.contacts.forEach((function(n){n.subscriptions.forEach((function(i){i.contact=n,t.$set(i,"statusLoading",!1),"all"!=t.subscriptionStatus&&t.subscriptionStatus!=i.status||("trialing"==i.status&&(i.status="pending"),e.push(i))}))})),e=e.concat(this.pending_subscriptions),e.sort((function(t,e){return t.created>e.created?-1:1})),e.length>0?this.hasSubscriptions=!0:(e.push({placeholder:!0}),this.hasSubscriptions=!1),e}}),watch:{ready:function(t){this.$root.contentloading=!t},selectedSubscription:function(t){t.latest_invoice&&this.getInvoice(t.latest_invoice)}},created:function(){this.$root.contentloading=!this.ready,this.getContacts({nopaginate:!0}),this.getServices(),this.getPendingSubscriptions()},mounted:function(){var t=this;this.$root.intros.subscriptions_index.enabled&&setTimeout((function(){document.querySelector(".introjs-overlay")||t.$root.intros.subscriptions_index.intro.start()}),500)},methods:O(O({},Object(i.b)({getContacts:"contacts/index",createContactSubscription:"contacts/create_subscription",cancelContactSubscription:"contacts/cancel_subscription",getServices:"services/index",getPendingSubscriptions:"pending_subscriptions/index",storePendingSubscription:"pending_subscriptions/store",deletePendingSubscription:"pending_subscriptions/delete"})),{},{getInvoice:function(t){var e=this;this.invoiceLoading=!0,window.axios.get("/get_invoice?invoice_id=".concat(t)).then((function(t){e.invoiceLoading=!1,e.selectedSubscription&&(console.log(t.data),e.selectedSubscription.latest_invoice=t.data)}))},viewSubscription:function(t){this.selectedSubscription=t,this.$refs.detailsModal.show()},getCurrency:function(t){return t.plan?t.plan.currency:!!this.$root.auth.stripe_account&&(((this.$root.auth.stripe_account.external_accounts||{}).data||[])[0]||{}).currency||"USD"},startSubscription:function(t){var e=this;this.$set(t,"statusLoading",!0);var n={id:t.contact_id,date:t.date,duration:t.duration,duration_frequency:t.duration_frequency,recurring_frequency:t.recurring_frequency,services:t.services,amount:t.amount/100};this.createContactSubscription(n).then((function(){e.$set(t,"statusLoading",!1),e.deleteSubscription(t)})).catch((function(){e.$set(t,"statusLoading",!1)}))},cancelSubscription:function(t){var e=this;this.$set(t,"statusLoading",!0),this.cancelContactSubscription(t).then((function(){e.$set(t,"statusLoading",!1)})).catch((function(){e.$set(t,"statusLoading",!1)}))},deleteSubscription:function(t){t.plan||this.deletePendingSubscription(t)},resetSubscriptionForm:function(){this.newSubscriptionForm={loading:!1,services:[],date:null,recurring_frequency:"week",duration:6,duration_frequency:"month"},this.openInfo=!1},createSubscription:function(){var t=this;this.newSubscriptionForm.loading=!0,this.newSubscriptionForm.id=this.newSubscriptionForm.contact_id,this.$root.payoutComplete?this.createContactSubscription(this.newSubscriptionForm).then((function(){t.$refs.addModal.hide()})).catch((function(){t.newSubscriptionForm.loading=!1})):(this.newSubscriptionForm.date=y()(this.newSubscriptionForm.date).format("YYYY-MM-DD"),this.storePendingSubscription(this.newSubscriptionForm).then((function(){t.$refs.addModal.hide()})).catch((function(){t.newSubscriptionForm.loading=!1})))},timestampToDate:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Date(1e3*t),i="mmm d, yyyy";return e&&(i+=" h:MM TT"),$(n,i)},formatDate:function(t){return y.a.unix(t).format("MMM d, YYYY")}})},q=(n("bR7C"),Object(l.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-hidden h-100 flex-grow-1 d-flex flex-column"},[n("div",{staticClass:"d-flex flex-column h-100"},[n("div",{staticClass:"border-bottom bg-white p-3 d-flex align-items-center"},[n("h5",{staticClass:"font-heading mb-0"},[t._v("Subscriptions")]),t._v(" "),n("div",{staticClass:"ml-auto d-flex align-items-center"},[n("paginate-links",{key:t.subscriptions.length,attrs:{async:!0,for:"subscriptions","show-step-links":!0,classes:{ul:["pagination","d-inline-flex","mb-0"],li:["page-item",t.hasSubscriptions?"page-item":"disabled"],"li > a":["page-link","cursor-pointer"]}}}),t._v(" "),n("div",{staticClass:"d-inline-flex align-items-center mx-2",attrs:{"data-intro":t.$root.intros.subscriptions_index.steps[0],"data-step":"1"}},[n("vue-select",{attrs:{options:t.subscriptionStatuses,button_class:"border-0 bg-light shadow-none select-flex",label:"Status"},model:{value:t.subscriptionStatus,callback:function(e){t.subscriptionStatus=e},expression:"subscriptionStatus"}})],1),t._v(" "),n("button",{staticClass:"btn btn-light shadow-none d-flex align-items-center",attrs:{"data-intro":t.$root.intros.subscriptions_index.steps[1],"data-step":"2",type:"button"},on:{click:function(e){return t.$refs.addModal.show()}}},[n("plus-icon",{staticClass:"btn-icon"}),t._v("\n\t\t\t\t\tNew Subscription\n\t\t\t\t")],1)],1)]),t._v(" "),n("div",{staticClass:"flex-grow-1 d-flex h-100 overflow-hidden"},[n("div",{staticClass:"d-flex overflow-hidden h-100 w-100"},[n("div",{staticClass:"d-flex flex-column flex-grow-1 px-4 mt-2 pb-4"},[t.subscriptions.length>0?n("div",{staticClass:"overflow-auto flex-grow-1 pb-4 h-100",class:{"d-none":!t.hasSubscriptions}},[n("table",{staticClass:"table table-borderless table-hover mb-0"},[t._m(0),t._v(" "),n("paginate",{ref:"paginate",attrs:{tag:"tbody",name:"subscriptions",list:t.subscriptions,per:15}},[t._l(t.paginated("subscriptions"),(function(e){return[e.placeholder?t._e():n("tr",{key:e.id,staticClass:"cursor-pointer"},[n("td",{staticClass:"align-middle",on:{click:function(n){return t.viewSubscription(e)}}},[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"user-profile-image user-profile-image-sm",style:{backgroundImage:"url("+e.contact.contact_user.profile_image+")"}},[e.contact.contact_user.profile_image?t._e():n("span",[t._v(t._s(e.contact.contact_user.initials))])]),t._v(" "),n("div",{staticClass:"ml-2 overflow-hidden flex-1"},[n("h6",{staticClass:"font-heading mb-0 text-ellipsis"},[t._v(t._s(e.contact.contact_user.full_name))]),t._v(" "),n("small",{staticClass:"d-block text-muted"},[t._v(t._s(e.contact.contact_user.email))])])])]),t._v(" "),n("td",{staticClass:"align-middle",on:{click:function(n){return t.viewSubscription(e)}}},[n("span",{staticClass:"badge text-capitalize position-relative",class:"badge-"+(e.status?e.status:"draft")},[n("span",{class:{"opacity-0":e.statusLoading}},[t._v(t._s(e.plan?e.status:"Draft"))]),t._v(" "),e.statusLoading?n("div",{staticClass:"position-absolute-center"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary"})]):t._e()])]),t._v(" "),n("td",{staticClass:"align-middle text-muted",on:{click:function(n){return t.viewSubscription(e)}}},[n("p",{staticClass:"text-capitalize mb-0"},[t._v(t._s(e.created?t.timestampToDate(e.created):"-"))])]),t._v(" "),n("td",{staticClass:"align-middle text-muted",on:{click:function(n){return t.viewSubscription(e)}}},["active"==e.status?n("p",{staticClass:"text-capitalize mb-0"},[t._v(t._s(e.current_period_end?t.timestampToDate(e.current_period_end,!1):"-"))]):t._e()]),t._v(" "),n("td",{staticClass:"text-right align-middle"},["canceled"!=e.status?n("div",{staticClass:"dropleft"},[n("button",{staticClass:"btn btn-white p-1 line-height-0",attrs:{"data-toggle":"dropdown",disabled:e.statusLoading}},[n("more-icon",{staticClass:"fill-gray-500",attrs:{width:"20",height:"20",transform:"scale(0.75)"}})],1),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e.plan?[n("span",{staticClass:"dropdown-item d-flex align-items-center cursor-pointer",on:{click:function(n){t.selectedSubscription=e,t.$refs.cancelModal.show()}}},[n("block-icon",{staticClass:"ml-n2 mr-1 fill-secondary",attrs:{width:"18",height:"18"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel Subscription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1)]:[t.$root.payoutComplete?n("span",{staticClass:"dropdown-item d-flex align-items-center cursor-pointer",on:{click:function(n){return t.startSubscription(e)}}},[n("task-icon",{staticClass:"ml-n2 mr-1 fill-secondary",attrs:{width:"18",height:"18"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tStart Subscription\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1):t._e(),t._v(" "),n("span",{staticClass:"dropdown-item cursor-pointer",on:{click:function(n){t.selectedSubscription=e,t.$refs.deleteModal.show()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]],2)]):t._e()])])]}))],2)],1)]):t._e(),t._v(" "),0!=t.subscriptions.length&&t.hasSubscriptions?t._e():n("div",{staticClass:"text-muted text-center position-absolute-center"},[n("div",{staticClass:"h6 text-secondary font-weight-normal mb-0"},[t._v("No subscriptions found.")])])])])])]),t._v(" "),n("modal",{ref:"addModal",attrs:{"close-button":!1},on:{hidden:function(e){return t.resetSubscriptionForm()}}},[n("h5",{staticClass:"font-heading mb-3"},[t._v("Add Subscription")]),t._v(" "),n("vue-form-validate",{staticClass:"d-flex flex-column flex-grow-1",on:{submit:function(e){return t.createSubscription()}}},[n("div",{staticClass:"flex-grow-1"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("Contact")]),t._v(" "),n("vue-select",{attrs:{button_class:"form-control",options:t.stripeCustomers,searchable:"",required:"",placeholder:"Find contact"},model:{value:t.newSubscriptionForm.contact_id,callback:function(e){t.$set(t.newSubscriptionForm,"contact_id",e)},expression:"newSubscriptionForm.contact_id"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("Booking Types")]),t._v(" "),n("vue-select",{attrs:{button_class:"form-control",options:t.servicesList,multiple:"",required:"",placeholder:"Select booking type"},model:{value:t.newSubscriptionForm.services,callback:function(e){t.$set(t.newSubscriptionForm,"services",e)},expression:"newSubscriptionForm.services"}}),t._v(" "),t._l(t.newSubscriptionForm.services,(function(e,i){return n("div",{key:e.id,staticClass:"my-2 bg-light rounded p-2 position-relative"},[n("button",{staticClass:"btn close p-0 line-height-0 mr-n1",attrs:{type:"button"},on:{click:function(e){return t.newSubscriptionForm.services.splice(i,1)}}},[n("close-icon")],1),t._v(" "),n("strong",{staticClass:"d-block mb-1"},[t._v(t._s(e.name))]),t._v(" "),n("label",{staticClass:"form-label"},[t._v("Rate per session (Default pricing: "+t._s(t.newSubscriptionForm.services[i].currency)+" "+t._s(t.newSubscriptionForm.services[i].default_rate)+")")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubscriptionForm.services[i].rate,expression:"newSubscriptionForm.services[index].rate"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"0.01",placeholder:"Rate per session","data-required":""},domProps:{value:t.newSubscriptionForm.services[i].rate},on:{input:function(e){e.target.composing||t.$set(t.newSubscriptionForm.services[i],"rate",e.target.value)}}}),t._v(" "),n("label",{staticClass:"form-label d-block mt-2"},[t._v("Booking frequency")]),t._v(" "),n("div",{staticClass:"form-row align-items-center"},[n("div",{staticClass:"col"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubscriptionForm.services[i].frequency,expression:"newSubscriptionForm.services[index].frequency"}],staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"Maximum interval bookings","data-required":""},domProps:{value:t.newSubscriptionForm.services[i].frequency},on:{input:function(e){e.target.composing||t.$set(t.newSubscriptionForm.services[i],"frequency",e.target.value)}}})]),t._v(" "),n("span",{staticClass:"text-secondary"},[t._v("sessions per")]),t._v(" "),n("div",{staticClass:"col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newSubscriptionForm.services[i].frequency_interval,expression:"newSubscriptionForm.services[index].frequency_interval"}],staticClass:"form-control",attrs:{"data-required":""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.newSubscriptionForm.services[i],"frequency_interval",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"day"}},[t._v("Day")]),t._v(" "),n("option",{attrs:{value:"week"}},[t._v("Week")]),t._v(" "),n("option",{attrs:{value:"month"}},[t._v("Month")])])])])])}))],2),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("Recurring Frequency")]),t._v(" "),n("vue-select",{attrs:{button_class:"form-control",options:t.recurringOptions,required:"",placeholder:"Choose interval"},model:{value:t.newSubscriptionForm.recurring_frequency,callback:function(e){t.$set(t.newSubscriptionForm,"recurring_frequency",e)},expression:"newSubscriptionForm.recurring_frequency"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("Start Date")]),t._v(" "),n("v-date-picker",{attrs:{popover:{placement:"bottom",visibility:"click"},"min-date":new Date},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents;return[n("input",t._g({staticClass:"form-control cursor-pointer bg-white",attrs:{readonly:"",placeholder:"Select start date","data-required":""},domProps:{value:i}},s))]}}]),model:{value:t.newSubscriptionForm.date,callback:function(e){t.$set(t.newSubscriptionForm,"date",e)},expression:"newSubscriptionForm.date"}})],1),t._v(" "),n("label",{staticClass:"form-label d-block mt-2"},[t._v("Subscription Duration")]),t._v(" "),n("div",{staticClass:"form-row align-items-center"},[n("div",{staticClass:"col"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubscriptionForm.duration,expression:"newSubscriptionForm.duration"}],staticClass:"form-control",attrs:{type:"number",min:"1","data-required":""},domProps:{value:t.newSubscriptionForm.duration},on:{input:function(e){e.target.composing||t.$set(t.newSubscriptionForm,"duration",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newSubscriptionForm.duration_frequency,expression:"newSubscriptionForm.duration_frequency"}],staticClass:"form-control",attrs:{"data-required":""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.newSubscriptionForm,"duration_frequency",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"month"}},[t._v("Months")]),t._v(" "),n("option",{attrs:{value:"year"}},[t._v("Years")])])])]),t._v(" "),n("div",{staticClass:"form-group text-right mt-4"},[n("label",{staticClass:"form-label"},[t._v("Total:")]),t._v(" "),n("strong",[t._v("$"+t._s(t.subscriptionTotal))]),t._v("\n\t\t\t\t\t/"+t._s(t.newSubscriptionForm.recurring_frequency)+"\n\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button",disabled:t.newSubscriptionForm.loading,"data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),n("vue-button",{attrs:{type:"submit",loading:t.newSubscriptionForm.loading,button_class:"ml-auto btn btn-primary"}},[t._v("Create")])],1)])],1),t._v(" "),n("modal",{ref:"detailsModal",attrs:{size:"modal-lg"}},[t.selectedSubscription?[n("span",{staticClass:"badge text-capitalize position-relative",class:"badge-"+(t.selectedSubscription.status?t.selectedSubscription.status:"draft")},[n("span",{class:{"opacity-0":t.selectedSubscription.statusLoading}},[t._v(t._s(t.selectedSubscription.plan?t.selectedSubscription.status:"Draft"))]),t._v(" "),t.selectedSubscription.statusLoading?n("div",{staticClass:"position-absolute-center"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary"})]):t._e()]),t._v(" "),n("h6",{staticClass:"font-heading mt-1 mb-3 h4"},[t._v(t._s(t.selectedSubscription.id))]),t._v(" "),n("div",{staticClass:"d-flex"},[n("div",{staticClass:"w-50"},[n("label",{staticClass:"d-block mb-0"},[t._v("Contact")]),t._v(" "),n("strong",[t._v(t._s(t.selectedSubscription.contact.contact_user.full_name))]),t._v(" "),n("label",{staticClass:"d-block mb-0 mt-3"},[t._v("Services")]),t._v(" "),n("strong",[t._v(t._s(t.selectedSubscription.services.map((function(t){return t.name})).join(",")))]),t._v(" "),n("label",{staticClass:"d-block mb-0 mt-3"},[t._v("Amount")]),t._v(" "),n("strong",[t._v("$"+t._s(((t.selectedSubscription.plan||t.selectedSubscription).amount/100).toFixed(2)))])]),t._v(" "),n("div",{staticClass:"w-50"},[n("label",{staticClass:"d-block mb-0 mt-3"},[t._v("Starts At")]),t._v(" "),n("strong",[t._v(t._s(t.selectedSubscription.current_period_start?t.formatDate(t.selectedSubscription.current_period_start):"-"))]),t._v(" "),n("label",{staticClass:"d-block mb-0 mt-3"},[t._v("Next Invoice")]),t._v(" "),n("strong",[t._v(t._s("active"==t.selectedSubscription.status&&t.selectedSubscription.current_period_end?t.timestampToDate(t.selectedSubscription.current_period_end,!1):"-"))])])]),t._v(" "),n("label",{staticClass:"d-block mb-0 mt-3"},[t._v("Invoices")]),t._v(" "),t.invoiceLoading?n("div",{staticClass:"text-center py-3"},[n("div",{staticClass:"spinner-border spinner-border-sm text-primary",attrs:{role:"status"}})]):t.selectedSubscription.latest_invoice?n("div",{staticClass:"border p-1 rounded mt-2"},[n("table",{staticClass:"table table-sm table-borderless mb-0 p-0"},[n("thead",[n("tr",[n("th",{staticClass:"pb-2"},[t._v("Amount")]),t._v(" "),n("th",{staticClass:"pb-2"},[t._v("Currency")]),t._v(" "),n("th",{staticClass:"pb-2"},[t._v("Status")]),t._v(" "),n("th",{staticClass:"pb-2"},[t._v("Invoice Number")]),t._v(" "),n("th",{staticClass:"pb-2"},[t._v("Created")])])]),t._v(" "),n("tbody",{staticClass:"shadow-none border-top"},[n("tr",[n("td",{staticClass:"pt-2"},[n("strong",[t._v("$"+t._s(((t.selectedSubscription.latest_invoice.amount||0)/100).toFixed(2)))])]),t._v(" "),n("td",{staticClass:"pt-2 text-uppercase"},[t._v(t._s(t.selectedSubscription.latest_invoice.currency))]),t._v(" "),n("td",{staticClass:"pt-2 text-capitalize"},[n("span",{staticClass:"badge text-capitalize",class:"badge-"+t.selectedSubscription.latest_invoice.status},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.selectedSubscription.latest_invoice.status)+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),n("td",{staticClass:"pt-2 text-uppercase"},[t._v(t._s(t.selectedSubscription.latest_invoice.number))]),t._v(" "),n("td",{staticClass:"pt-2 text-uppercase"},[t._v(t._s(t.timestampToDate(t.selectedSubscription.latest_invoice.created)))])])])])]):n("span",[t._v("-")])]:t._e()],2),t._v(" "),n("modal",{ref:"deleteModal",attrs:{"close-button":!1}},[t.selectedSubscription?[n("h5",{staticClass:"font-heading text-center"},[t._v("Delete Subscription")]),t._v(" "),n("p",{staticClass:"text-center mt-3"},[t._v("\n\t\t\t\tAre you sure to delete this subscription?\n\t\t\t\t"),n("br"),t._v(" "),n("span",{staticClass:"text-danger"},[t._v("This action cannot be undone")])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end"},[n("button",{staticClass:"btn btn-light shadow-none",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-danger ml-auto",attrs:{type:"button"},on:{click:function(e){t.deleteSubscription(t.selectedSubscription),t.$refs.deleteModal.hide()}}},[t._v("\n\t\t\t\t\tDelete\n\t\t\t\t")])])]:t._e()],2),t._v(" "),n("modal",{ref:"cancelModal",attrs:{"close-button":!1}},[t.selectedSubscription?[n("h5",{staticClass:"font-heading text-center"},[t._v("Cancel Subscription")]),t._v(" "),n("p",{staticClass:"text-center mt-3"},[t._v("\n\t\t\t\tAre you sure to cancel this subscription?\n\t\t\t\t"),n("br"),t._v(" "),n("span",{staticClass:"text-danger"},[t._v("This action cannot be undone")])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end"},[n("button",{staticClass:"btn btn-white border text-body",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-danger ml-auto",attrs:{type:"button"},on:{click:function(e){t.cancelSubscription(t.selectedSubscription),t.$refs.cancelModal.hide()}}},[t._v("\n\t\t\t\t\tCancel Subscription\n\t\t\t\t")])])]:t._e()],2)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Contact")]),t._v(" "),n("th",[t._v("Status")]),t._v(" "),n("th",[t._v("Created")]),t._v(" "),n("th",[t._v("Next Invoice")]),t._v(" "),n("th")])])}],!1,null,null,null));e.default=q.exports},E73b:function(t,e,n){"use strict";var i={name:"task"},s=n("KHd+"),a=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{fill:"#000","fill-rule":"nonzero",d:"M10,4.5 C10,4.77614237 9.77614237,5 9.5,5 C9.22385763,5 9,4.77614237 9,4.5 C9,3.67157288 9.67157288,3 10.5,3 L13.5,3 C14.3284271,3 15,3.67157288 15,4.5 C15,4.77614237 14.7761424,5 14.5,5 C14.2238576,5 14,4.77614237 14,4.5 C14,4.22385763 13.7761424,4 13.5,4 L10.5,4 C10.2238576,4 10,4.22385763 10,4.5 Z M6.5,4 C6.77614237,4 7,4.22385763 7,4.5 C7,4.77614237 6.77614237,5 6.5,5 C5.67157288,5 5,5.67157288 5,6.5 L5,18.5 C5,19.3284271 5.67157288,20 6.5,20 L17.5,20 C18.3284271,20 19,19.3284271 19,18.5 L19,6.5 C19,5.67157288 18.3284271,5 17.5,5 C17.2238576,5 17,4.77614237 17,4.5 C17,4.22385763 17.2238576,4 17.5,4 C18.8807119,4 20,5.11928813 20,6.5 L20,18.5 C20,19.8807119 18.8807119,21 17.5,21 L6.5,21 C5.11928813,21 4,19.8807119 4,18.5 L4,6.5 C4,5.11928813 5.11928813,4 6.5,4 Z"}}),this._v(" "),e("path",{attrs:{fill:"#000","fill-rule":"nonzero",d:"M15.1464466,9.14644661 C15.3417088,8.95118446 15.6582912,8.95118446 15.8535534,9.14644661 C16.0488155,9.34170876 16.0488155,9.65829124 15.8535534,9.85355339 L10.8535534,14.8535534 C10.6582912,15.0488155 10.3417088,15.0488155 10.1464466,14.8535534 L8.14644661,12.8535534 C7.95118446,12.6582912 7.95118446,12.3417088 8.14644661,12.1464466 C8.34170876,11.9511845 8.65829124,11.9511845 8.85355339,12.1464466 L10.5,13.7928932 L15.1464466,9.14644661 Z"}})])])}),[],!1,null,null,null);e.a=a.exports},T1qZ:function(t,e,n){"use strict";var i={props:{label:{type:String,default:""},type:{type:String,default:"button"},icon:{type:String,default:""},button_class:{type:String,default:"btn-block btn-primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},methods:{}},s=n("KHd+"),a=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn position-relative",class:t.button_class,attrs:{type:t.type,disabled:t.loading||t.disabled},on:{click:function(e){return t.$emit("click")}}},[t.loading?n("span",{staticClass:"spinner position-absolute-center"},[n("span",{staticClass:"spinner-border spinner-border-sm align-middle",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t._v(" "),n("div",{class:{"opacity-0":t.loading}},[t.icon?[n("i",{class:t.icon}),t._v("  ")]:t._e(),t._t("default")],2)])}),[],!1,null,null,null);e.a=a.exports},TOPd:function(t,e,n){var i=n("qkO1");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,s);i.locals&&(t.exports=i.locals)},bR7C:function(t,e,n){"use strict";n("TOPd")},dRai:function(t,e,n){"use strict";var i={name:"more"},s=n("KHd+"),a=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"3",height:"11",viewBox:"0 0 3 11"}},[e("g",[e("path",{attrs:{"fill-rule":"evenodd",d:"M1.34444874 0h.0888935c.74202145 0 1.34444873.60242728 1.34444873 1.34444874 0 .74202145-.60242728 1.34444873-1.34444873 1.34444873h-.0888935C.60242728 2.68889747 0 2.0864702 0 1.34444874 0 .60242728.60242728 0 1.34444874 0z"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd",d:"M1.34444874 4.25333331h.0888935c.74202145 0 1.34444873.60242728 1.34444873 1.34444874 0 .74202145-.60242728 1.34444873-1.34444873 1.34444873h-.0888935C.60242728 6.94223078 0 6.3398035 0 5.59778205 0 4.85576059.60242728 4.2533333 1.34444874 4.2533333z"}}),this._v(" "),e("path",{attrs:{"fill-rule":"evenodd",d:"M1.34444874 8.31112253h.0888935c.74202145 0 1.34444873.60242728 1.34444873 1.34444873 0 .74202146-.60242728 1.34444874-1.34444873 1.34444874h-.0888935C.60242728 11.00002 0 10.39759272 0 9.65557126c0-.74202145.60242728-1.34444873 1.34444874-1.34444873z"}})])])}),[],!1,null,null,null);e.a=a.exports},grtR:function(t,e,n){"use strict";var i={name:"trash"},s=n("KHd+"),a=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,6 L19,18.5 C19,19.8807119 17.8807119,21 16.5,21 L7.5,21 C6.11928813,21 5,19.8807119 5,18.5 L5,6 L4.5,6 C4.22385763,6 4,5.77614237 4,5.5 C4,5.22385763 4.22385763,5 4.5,5 L9,5 L9,4.5 C9,3.67157288 9.67157288,3 10.5,3 L13.5,3 C14.3284271,3 15,3.67157288 15,4.5 L15,5 L19.5,5 C19.7761424,5 20,5.22385763 20,5.5 C20,5.77614237 19.7761424,6 19.5,6 L19,6 Z M6,6 L6,18.5 C6,19.3284271 6.67157288,20 7.5,20 L16.5,20 C17.3284271,20 18,19.3284271 18,18.5 L18,6 L6,6 Z M14,5 L14,4.5 C14,4.22385763 13.7761424,4 13.5,4 L10.5,4 C10.2238576,4 10,4.22385763 10,4.5 L10,5 L14,5 Z M14,9.5 C14,9.22385763 14.2238576,9 14.5,9 C14.7761424,9 15,9.22385763 15,9.5 L15,16.5 C15,16.7761424 14.7761424,17 14.5,17 C14.2238576,17 14,16.7761424 14,16.5 L14,9.5 Z M9,9.5 C9,9.22385763 9.22385763,9 9.5,9 C9.77614237,9 10,9.22385763 10,9.5 L10,16.5 C10,16.7761424 9.77614237,17 9.5,17 C9.22385763,17 9,16.7761424 9,16.5 L9,9.5 Z"}})])}),[],!1,null,null,null);e.a=a.exports},q2Ol:function(t,e,n){"use strict";var i={name:"arrow-down"},s=n("KHd+"),a=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M13,16.2928932 L16.1464466,13.1464466 C16.3417088,12.9511845 16.6582912,12.9511845 16.8535534,13.1464466 C17.0488155,13.3417088 17.0488155,13.6582912 16.8535534,13.8535534 L12.8535534,17.8535534 C12.6582912,18.0488155 12.3417088,18.0488155 12.1464466,17.8535534 L8.14644661,13.8535534 C7.95118446,13.6582912 7.95118446,13.3417088 8.14644661,13.1464466 C8.34170876,12.9511845 8.65829124,12.9511845 8.85355339,13.1464466 L12,16.2928932 L12,6.5 C12,6.22385763 12.2238576,6 12.5,6 C12.7761424,6 13,6.22385763 13,6.5 L13,16.2928932 Z"}})])}),[],!1,null,null,null);e.a=a.exports},qkO1:function(t,e,n){(e=n("JPst")(!1)).push([t.i,".user-profile-image-sm{width:35px;height:35px}.user-profile-image-sm span{font-size:12px}.info{transition:all .1s ease-in-out;width:350px;margin-right:-350px}.info.open{margin-right:0}.pagination .page-item .page-link{background:#f0f2f5}.pagination .page-item.active .page-link{background:#ced4da !important}.select-flex{height:calc(1.5em + 0.7rem)}.subscription .subscription-id{color:#adb5bd;transition:all .1s ease-in-out}.subscription:hover .subscription-id{color:#000}.badge-draft{background-color:rgba(92,101,112,.125);color:#5c6570}.badge-pending{background-color:rgba(255,193,7,.125);color:#ffc107}.badge-canceled{background-color:rgba(92,101,112,.125);color:#adb5bd}.badge-active{background-color:rgba(90,90,223,.125);color:#5a5adf}.badge-paid{background-color:rgba(90,90,223,.125);color:#5a5adf}",""]),t.exports=e},ubkq:function(t,e,n){var i;!function(s){"use strict";var a,r,o,c=(a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g,function(t,e,n,i){if(1!==arguments.length||"string"!==p(t)||/\d/.test(t)||(e=t,t=void 0),(t=t||new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var s=(e=String(c.masks[e]||e||c.masks.default)).slice(0,4);"UTC:"!==s&&"GMT:"!==s||(e=e.slice(4),n=!0,"GMT:"===s&&(i=!0));var m=n?"getUTC":"get",v=t[m+"Date"](),h=t[m+"Day"](),f=t[m+"Month"](),g=t[m+"FullYear"](),b=t[m+"Hours"](),_=t[m+"Minutes"](),C=t[m+"Seconds"](),y=t[m+"Milliseconds"](),w=n?0:t.getTimezoneOffset(),S=u(t),x=d(t),L={d:v,dd:l(v),ddd:c.i18n.dayNames[h],dddd:c.i18n.dayNames[h+7],m:f+1,mm:l(f+1),mmm:c.i18n.monthNames[f],mmmm:c.i18n.monthNames[f+12],yy:String(g).slice(2),yyyy:g,h:b%12||12,hh:l(b%12||12),H:b,HH:l(b),M:_,MM:l(_),s:C,ss:l(C),l:l(y,3),L:l(Math.round(y/10)),t:b<12?c.i18n.timeNames[0]:c.i18n.timeNames[1],tt:b<12?c.i18n.timeNames[2]:c.i18n.timeNames[3],T:b<12?c.i18n.timeNames[4]:c.i18n.timeNames[5],TT:b<12?c.i18n.timeNames[6]:c.i18n.timeNames[7],Z:i?"GMT":n?"UTC":(String(t).match(r)||[""]).pop().replace(o,""),o:(w>0?"-":"+")+l(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][v%10>3?0:(v%100-v%10!=10)*v%10],W:S,N:x};return e.replace(a,(function(t){return t in L?L[t]:t.slice(1,t.length-1)}))});function l(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function u(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-i);var s=(e-n)/6048e5;return 1+Math.floor(s)}function d(t){var e=t.getDay();return 0===e&&(e=7),e}function p(t){return null===t?"null":void 0===t?"undefined":"object"!=typeof t?typeof t:Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(i=function(){return c}.call(e,n,e,t))||(t.exports=i)}()},uv9J:function(t,e,n){t.exports=function(){"use strict";var t,e,n="undefined"!=typeof console;t=function(t,s,a){void 0===a&&(a="error"),n&&console[a]("[vue-paginate]: "+t+" "+(s?i(e(s)):""))},e=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")};var i=function(t){return"anonymous component"===t&&(t+=' - use the "name" option for better debugging messages.'),"\n(found in "+t+")"},s={name:"paginate",props:{name:{type:String,required:!0},list:{type:Array,required:!0},per:{type:Number,default:3,validator:function(t){return t>0}},tag:{type:String,default:"ul"},container:{type:Object,default:null}},data:function(){return{initialListSize:this.list.length}},computed:{parent:function(){return this.container?this.container:this.$parent},currentPage:{get:function(){if(this.parent.paginate[this.name])return this.parent.paginate[this.name].page},set:function(t){this.parent.paginate[this.name].page=t}},pageItemsCount:function(){var t=this.list.length;return this.currentPage*this.per+1+"-"+Math.min(this.currentPage*this.per+this.per,t)+" of "+t},lastPage:function(){return Math.ceil(this.list.length/this.per)}},mounted:function(){this.per<=0&&t('<paginate name="'+this.name+"\"> 'per' prop can't be 0 or less.",this.parent),this.parent.paginate[this.name]?this.paginateList():t("'"+this.name+"' is not registered in 'paginate' array.",this.parent)},watch:{currentPage:function(){this.paginateList()},list:function(){this.currentPage>=this.lastPage&&(this.currentPage=this.lastPage-1),this.paginateList()},per:function(){this.currentPage=0,this.paginateList()}},methods:{paginateList:function(){var t=this.currentPage*this.per,e=this.list.slice(t,t+this.per);this.parent.paginate[this.name].list=e},goToPage:function(e){var n=Math.ceil(this.list.length/this.per);e>n?t("You cannot go to page "+e+". The last page is "+n+".",this.parent):this.currentPage=e-1}},render:function(t){return t(this.tag,{},this.$slots.default)}},a=function(t,e,n){this.listOfPages=t,this.lastPage=t.length-1,this.currentPage=e===this.lastPage?this.lastPage-1:e,this.limit=n};a.prototype.generate=function(){var t=this._buildFirstHalf(),e=this._buildSecondHalf();return t.concat(e)},a.prototype._buildFirstHalf=function(){var t=this._allPagesButLast().slice(this._currentChunkIndex(),this._currentChunkIndex()+this.limit);return this.currentPage>=this.limit&&(t.unshift("…"),t.unshift(0)),this.lastPage-this.limit>this._currentChunkIndex()&&t.push("…"),t},a.prototype._buildSecondHalf=function(){return[this.lastPage]},a.prototype._currentChunkIndex=function(){return Math.floor(this.currentPage/this.limit)*this.limit},a.prototype._allPagesButLast=function(){var t=this;return this.listOfPages.filter((function(e){return e!==t.lastPage}))};var r={name:"paginate-links",props:{for:{type:String,required:!0},limit:{type:Number,default:0},simple:{type:Object,default:null,validator:function(t){return t.prev&&t.next}},stepLinks:{type:Object,default:function(){return{prev:"«",next:"»"}},validator:function(t){return t.prev&&t.next}},showStepLinks:{type:Boolean},hideSinglePage:{type:Boolean},classes:{type:Object,default:null},async:{type:Boolean,default:!1},container:{type:Object,default:null}},data:function(){return{listOfPages:[],numberOfPages:0,target:null}},computed:{parent:function(){return this.container?this.container.el:this.$parent},state:function(){return this.container?this.container.state:this.$parent.paginate[this.for]},currentPage:{get:function(){if(this.state)return this.state.page},set:function(t){this.state.page=t}}},mounted:function(){var e=this;this.simple&&this.limit&&t('<paginate-links for="'+this.for+"\"> 'simple' and 'limit' props can't be used at the same time. In this case, 'simple' will take precedence, and 'limit' will be ignored.",this.parent,"warn"),this.simple&&!this.simple.next&&t('<paginate-links for="'+this.for+"\"> 'simple' prop doesn't contain 'next' value.",this.parent),this.simple&&!this.simple.prev&&t('<paginate-links for="'+this.for+"\"> 'simple' prop doesn't contain 'prev' value.",this.parent),this.stepLinks&&!this.stepLinks.next&&t('<paginate-links for="'+this.for+"\"> 'step-links' prop doesn't contain 'next' value.",this.parent),this.stepLinks&&!this.stepLinks.prev&&t('<paginate-links for="'+this.for+"\"> 'step-links' prop doesn't contain 'prev' value.",this.parent),this.$nextTick((function(){e.updateListOfPages()}))},watch:{state:{handler:function(){this.updateListOfPages()},deep:!0},currentPage:function(t,e){this.$emit("change",t+1,e+1)}},methods:{updateListOfPages:function(){var e,n,i;if(this.target=(e=this.parent.$children,n=this.for,e.filter((function(t){return"paginate"===t.$vnode.componentOptions.tag})).find((function(t){return t.name===n}))),!this.target){if(this.async)return;return t('<paginate-links for="'+this.for+'"> can\'t be used without its companion <paginate name="'+this.for+'">',this.parent),void t('To fix that issue you may need to use :async="true" on <paginate-links> component to allow for asyncronous rendering',this.parent,"warn")}this.numberOfPages=Math.ceil(this.target.list.length/this.target.per),this.listOfPages=(i=this.numberOfPages,Array.apply(null,{length:i}).map((function(t,e){return e})))}},render:function(t){var e=this;if(!this.target&&this.async)return null;var n=this.simple?function(t,e){var n=t.listOfPages.length-1,i={on:{click:function(e){e.preventDefault(),t.currentPage>0&&(t.currentPage-=1)}}},s={on:{click:function(e){e.preventDefault(),t.currentPage<n&&(t.currentPage+=1)}}},a={class:["next",t.currentPage>=n?"disabled":""]},r={class:["prev",t.currentPage<=0?"disabled":""]},o=e("li",r,[e("a",i,t.simple.prev)]),c=e("li",a,[e("a",s,t.simple.next)]);return[o,c]}(this,t):this.limit>1?function(t,e){var n=new a(t.listOfPages,t.currentPage,t.limit,t.stepLinks).generate(),i=function(t){return t.map((function(e,n){return"…"===e&&0===t[n-1]?"left-ellipses":"…"===e&&0!==t[n-1]?"right-ellipses":e}))}(n=t.showStepLinks?[t.stepLinks.prev].concat(n,[t.stepLinks.next]):n);return n.map((function(n,s){var a={on:{click:function(e){e.preventDefault(),t.currentPage=c(n,t.limit,t.currentPage,t.listOfPages,t.stepLinks,i[s])}}},r=o(n,t.currentPage,t.listOfPages.length-1,t.stepLinks),l=n===parseInt(n,10)?n+1:n;return e("li",{class:r},[e("a",a,l)])}))}(this,t):function(t,e){return(t.showStepLinks?[t.stepLinks.prev].concat(t.listOfPages,[t.stepLinks.next]):t.listOfPages).map((function(n){var i={on:{click:function(e){e.preventDefault(),t.currentPage=c(n,t.limit,t.currentPage,t.listOfPages,t.stepLinks)}}},s=o(n,t.currentPage,t.listOfPages.length-1,t.stepLinks),a=n===t.stepLinks.next||n===t.stepLinks.prev?n:n+1;return e("li",{class:s},[e("a",i,a)])}))}(this,t);if(this.hideSinglePage&&this.numberOfPages<=1)return null;var i=t("ul",{class:["paginate-links",this.for]},n);return this.classes&&this.$nextTick((function(){var t,n;t=i.elm,n=e.classes,Object.keys(n).forEach((function(e){if("ul"===e){var i=n.ul;Array.isArray(i)?i.forEach((function(e){return t.classList.add(e)})):t.classList.add(i)}t.querySelectorAll(e).forEach((function(t){var i=n[e];Array.isArray(i)?i.forEach((function(e){return t.classList.add(e)})):t.classList.add(i)}))}))})),i}};function o(t,e,n,i){var s=i.prev,a=i.next,r=[];return t===s?r.push("left-arrow"):t===a?r.push("right-arrow"):"…"===t?r.push("ellipses"):r.push("number"),t===e&&r.push("active"),(t===s&&e<=0||t===a&&e>=n)&&r.push("disabled"),r}function c(t,e,n,i,s,a){var r=s.prev,o=s.next;void 0===a&&(a=null);var c=Math.floor(n/e);if(t===r)return n-1<0?0:n-1;if(t===o)return n+1>i.length-1?i.length-1:n+1;if(a&&"right-ellipses"===a)return(c+1)*e;if(a&&"left-ellipses"===a){var l=i.slice(c*e,c*e+e);return n===i.length-1&&1===l.length&&c--,(c-1)*e+e-1}return t}var l={install:function(e){e.mixin({created:function(){var t;"undefined"!==this.paginate&&this.paginate instanceof Array&&(this.paginate=(void 0===(t=this.paginate)&&(t=[]),t.reduce((function(t,e){return t[e]={list:[],page:0},t}),{})))},methods:{paginated:function(e){if(this.paginate&&this.paginate[e])return this.paginate[e].list;t("'"+e+"' is not registered in 'paginate' array.",this)}}}),e.component("paginate",s),e.component("paginate-links",r)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(l),l}()}}]);