<?php

namespace App\Tests\Feature;

use Tests\TestCase;
use Illuminate\Foundation\Testing\WithFaker;
use Illuminate\Foundation\Testing\RefreshDatabase;
use App\Models\PasswordReset;

class PagesTest extends TestCase
{
    /**
     * A basic feature test example.
     *
     * @return void
     */
    
    
    public function testWidget()
    {
        $response = $this->get($this->app_url . '/js/widget.js?p=ewww');
        $response->assertStatus(404);

        $response = $this->get($this->app_url . '/js/widget.js?p=' . $this->user->username);
        $response->assertStatus(200);
    }

    public function testPrivacyPolicy()
    {
        $response = $this->get($this->app_url . '/privacy-policy');
        $response->assertStatus(200);
    }

    public function testTermsOfService()
    {
        $response = $this->get($this->app_url . '/terms-of-service');
        $response->assertStatus(200);
    }


    public function testBookingPage()
    {
        $response = $this->get($this->app_url . '/@' . $this->user->username);
        $response->assertStatus(200);

        $response = $this->get($this->app_url . '/@test');
        $response->assertStatus(404);
    }
}
